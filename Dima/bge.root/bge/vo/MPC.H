//////////////////////////////////////////////////////////////////////////////////
//	Module			:	MPC functions											//
//	File			:	mpc.h													//
//	Creation date	:	22.01.2002												//
//	Author			:	Dmitriy Iassenev										//
//////////////////////////////////////////////////////////////////////////////////

#pragma once

#include "eval.h"

//////////////////////////////////////////////////////////
// Macros declarations
//////////////////////////////////////////////////////////

#define USE_PROB_CUT    1

#define THRESHOLD_90_PERCENTS 1.65
#define THRESHOLD_99_PERCENTS 2.5758

#define MAX_PLY        25
#define HIGH_MPC_PLY   25
#define HIGH_EC_PLY    25
#define MIN_PLY         3

extern f64 PERCENTILE;
//#define PERCENTILE     1.65 //1.5 i.e. p ca. 93%

//////////////////////////////////////////////////////////
// Type declarations
//////////////////////////////////////////////////////////

#pragma pack(1)
typedef struct tagVOMPC {
	bool   bCorrelationExists;
	char   cDepth;
	f64 dSigma;
	f64 dA;
	f64 dB;
} TVOMPC;
#pragma pack()

//////////////////////////////////////////////////////////
// Exported variables
//////////////////////////////////////////////////////////

extern TVOMPC taMPC	[STAGE_COUNT][HIGH_MPC_PLY];
extern TVOMPC taEC	[STAGE_COUNT][HIGH_EC_PLY];

//////////////////////////////////////////////////////////
// Exported functions
//////////////////////////////////////////////////////////

extern void vfLoadMPCParameters();
