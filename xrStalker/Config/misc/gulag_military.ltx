;-------------------------------------------------------------------------------------------------
;-- Military Freedom base
;-------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------
;normal state
;-------------------------------------------------------------------------------------------------
;------------------------------------- Lukash --------------------------------------
[logic@mil_freedom_lukash]
active = walker1@mil_freedom_lukash
actor_dialogs = dialogs@mil_freedom_lukash
on_death = on_death@mil_freedom_lukash
on_combat = combat@mil_freedom_max

[on_death@mil_freedom_lukash]
on_info = %+mil_lukash_dead%

[walker1@mil_freedom_lukash]
path_walk = leader_walk
path_look = leader_look
on_info = {+mil_bodyguard_talk} remark1@mil_freedom_lukash
meet = meet@mil_freedom_lukash

[remark1@mil_freedom_lukash]
no_rotate = true
no_move = true
snd_anim_sync = true
snd = mil_guard_to_max
anim = wait_rac
on_signal = action_end | walker1@mil_freedom_lukash %-mil_bodyguard_talk%

[dialogs@mil_freedom_lukash]
id = mil_lukash_dialog_rg6, mil_lukash_dialog_after

[meet@mil_freedom_lukash]
meet_state = 5|ward
meet_state_wpn = 5|ward
victim = 10|actor
victim_wpn = 10|actor
use = true
use_wpn = false
meet_dialog = mil_leader_start_dialog


;------------------------------------- Скряга --------------------------------------
[logic@mil_freedom_trader]
active = walker1@mil_freedom_trader
on_combat = combat@mil_freedom_max

[walker1@mil_freedom_trader]
path_walk = trader_walk1
path_look = trader_look1
meet_enabled = true
meet_dialog = mil_trader_dialog


;------------------------------------- Охранник арсенала --------------------------
;[logic@mil_freedom_arsenal]
;active = zoneguard1@mil_freedom_arsenal
;on_combat = combat@mil_freedom_max

;[zoneguard1@mil_freedom_arsenal]
;path_walk = armory_walk_warn
;path_look = armory_look_warn
;zone_warn = warn_zone
;no_move = true
;team = freedom_bodyguards1
;meet_talk_enabled = true
;meet_dialog = mil_guard_arsenal_dialog
;anim = backoff
;meet_state = backoff



;------------------------------------- Охранник у Лукаша -------------------------
[logic@mil_freedom_guard1]
active = zoneguard1@mil_freedom_guard1
on_combat = combat@mil_freedom_max

[zoneguard1@mil_freedom_guard1]
path_walk = zoneguard_walk_warn
path_look = zoneguard_look_warn
zone_warn = leader_warn_zone
zone_guard = leader_kill_zone
no_move = true
team = freedom_bodyguards1
on_actor_in_zone = mil_freedom_leader_warn_zone | {!actor_has_weapon} walker1@mil_freedom_guard1
meet_talk_enabled = true
meet_dialog = mil_bodyguard_dialog

[walker1@mil_freedom_guard1]
path_walk = zoneguard_walk_warn2
path_look = zoneguard_look_warn2
on_actor_not_in_zone = mil_freedom_leader_warn_zone | zoneguard1@mil_freedom_guard1
on_actor_in_zone = leader_warn_zone | {=actor_has_weapon} zoneguard1@mil_freedom_guard1

;------------------------------------- Телохранитель 1 --------------------------
[logic@mil_freedom_bodyguard1]
active = zoneguard1@mil_freedom_bodyguard1
on_combat = combat@mil_freedom_max

[zoneguard1@mil_freedom_bodyguard1]
path_walk = zoneguard_walk_kill2
path_look = zoneguard_look_kill2
zone_warn = leader_kill_zone
no_move = true
on_actor_in_zone = mil_freedom_leader_kill_zone | {=actor_has_weapon} camper2@mil_freedom_bodyguard1 %=actor_enemy%
team = freedom_bodyguards1

[camper2@mil_freedom_bodyguard1]
radius = 1
path_walk = zoneguard_walk_kill2
path_look = zoneguard_look_kill2
no_retreat = true
def_state_moving_fire = threat_fire
def_state_campering_fire = threat_fire



;------------------------------------- Телохранитель 2 --------------------------
[logic@mil_freedom_bodyguard2]
active = zoneguard1@mil_freedom_bodyguard2
on_combat = combat@mil_freedom_max

[zoneguard1@mil_freedom_bodyguard2]
path_walk = zoneguard_walk_kill1
path_look = zoneguard_look_kill1
zone_warn = leader_kill_zone
no_move = true
on_actor_in_zone = mil_freedom_leader_kill_zone | {=actor_has_weapon} camper2@mil_freedom_bodyguard2 %=actor_enemy%
team = freedom_bodyguards2

[camper2@mil_freedom_bodyguard2]
radius = 1
path_walk = zoneguard_walk_kill1
path_look = zoneguard_look_kill1
no_retreat = true
def_state_moving_fire = threat_fire
def_state_campering_fire = threat_fire


;------------------------------------- Max --------------------------------------
[logic@mil_freedom_max]
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_max
actor_dialogs = dialogs@mil_freedom_max
on_death = death@mil_freedom_max
active = walker1@mil_freedom_max

[death@mil_freedom_max]
on_info = %=military_max_dead%

[on_meet@mil_freedom_max]
meet_state = 10|ward@mil_max_to_actor
meet_state_wpn = 10|ward@mil_max_to_actor
victim = 20|nil|10|actor
victim_wpn = 20|nil|10|actor
use = true
use_wpn = false
meet_dialog = mil_max_dialog

[dialogs@mil_freedom_max]
id = mil_max_dialog_common1,mil_max_dialog_common2,mil_max_dialog_common3

[combat_ignore@mil_freedom_max]

[combat@mil_freedom_max]
on_info = %+mil_freedom_under_attack%

[walker1@mil_freedom_max]
path_walk = max_walk
path_look = max_look
meet = on_meet@mil_freedom_max
on_info = {+mil_max_talk3} remark1@mil_freedom_max
on_info2 = {+mil_actor_on_lukash -mil_dolg_dead} walker2@mil_freedom_max

[remark1@mil_freedom_max]
snd = mil_max_before_collect
snd_anim_sync = true
anim = wait_rac
no_move = true
no_rotate = true
on_signal = action_end | walker11@mil_freedom_max_attack %+mil_freedom_attack%

[walker2@mil_freedom_max]
path_walk = max_center_walk
path_look = max_center_look
meet = on_meet@mil_freedom_max
on_timer = 120000 | walker1@mil_freedom_max %-mil_actor_on_lukash%
on_info = {+mil_max_talk3} remark1@mil_freedom_max


;----------------------------------- Мужик у костра 1-----------------------
[logic@mil_freedom_stalker1]
active = kamp@mil_freedom_stalker1
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_stalker1

[combat_ignore@mil_freedom_stalker1]

[kamp@mil_freedom_stalker1]
center_point = camp_center1

;----------------------------------- Мужик у костра 2-----------------------
[logic@mil_freedom_stalker2]
active = kamp@mil_freedom_stalker2
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_stalker2

[combat_ignore@mil_freedom_stalker2]

[kamp@mil_freedom_stalker2]
center_point = camp_center1

;----------------------------------- Павлик Морозов, мля-----------------------
[logic@mil_freedom_stalker3]
active = kamp1@mil_freedom_stalker3
combat_ignore = combat_ignore@mil_freedom_stalker3
on_death = death@mil_freedom_stalker3
on_combat = combat@mil_freedom_max

[death@mil_freedom_stalker3]
on_info = %+mil_courier_dead%

[kamp1@mil_freedom_stalker3]
center_point = camp_center1
on_info = {+mil_courier_quest =is_courier_time} remark1@mil_freedom_stalker3
meet_enable = true
meet_dialog = mil_dolg_relax_dialog

[remark1@mil_freedom_stalker3]
snd = mil_paul_frost
on_signal = action_end | walker2@mil_freedom_stalker3

[walker2@mil_freedom_stalker3]
path_walk = stukach_walk3
on_signal = final | walker3@mil_freedom_stalker3

[walker3@mil_freedom_stalker3]
path_walk = stukach_walk4
path_look = stukach_look4
on_signal = arrive | remark2@mil_freedom_stalker3 %+mil_courier_call%
on_actor_dist_le = 50 | walker4@mil_freedom_stalker3 %=mil_courier_quest_fail%

[remark2@mil_freedom_stalker3]
no_rotate = true
no_move = true
anim = wait_rac
snd = mil_pavlik_to_ara
on_info = {+mil_ara_end} walker4@mil_freedom_stalker3 %=mil_transfer_docs_to_ara%

[walker4@mil_freedom_stalker3]
path_walk = stukach_walk5
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Патрульный мужик (одиночка)-----------------------
[logic@mil_freedom_stalker4]
active = walker1@mil_freedom_stalker4
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_stalker4

[on_meet@mil_freedom_stalker4]
meet_state = 10|ward@mil_max_to_actor
meet_state_wpn = 10|backoff@threat_weap
victim = 10|nil|10|actor
victim_wpn = 10|nil|10|actor
use = true
use_wpn = false
meet_dialog = mil_patrol_dialog1

;Niieieiia ninoiyiea
[walker1@mil_freedom_stalker4]
path_walk = patrol_path2
path_look = patrol_look2
meet = on_meet@mil_freedom_stalker4
on_info = {+mil_patrol1_talk} walker2@mil_freedom_stalker4

[walker2@mil_freedom_stalker4]
path_walk = patrol_path2
path_look = patrol_look2


;----------------------------------- Патрульный командир -----------------------
[logic@mil_freedom_stalker5]
active = walker1@mil_freedom_stalker5
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_stalker5

[on_meet@mil_freedom_stalker5]
meet_state = 10|ward@mil_max_to_actor
meet_state_wpn = 10|backoff@threat_weap
victim = 10|nil|10|actor
victim_wpn = 10|nil|10|actor
use = true
use_wpn = false
meet_dialog = mil_patrol_dialog2

[walker1@mil_freedom_stalker5]
path_walk = patrol_path1
path_look = patrol_look1
meet = on_meet@mil_freedom_stalker5
on_info = {+mil_patrol2_talk} walker2@mil_freedom_stalker5

[walker2@mil_freedom_stalker5]
path_walk = patrol_path1
path_look = patrol_look1


;----------------------------------- Патрульный мужик 1 -----------------------
[logic@mil_freedom_stalker6]
active = follower@mil_freedom_stalker6
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_stalker6

[combat_ignore@mil_freedom_stalker6]

;Niieieiia ninoiyiea
[follower@mil_freedom_stalker6]
state_if_leader_in_meet = threat
on_signal = leader_dead | kamp1@mil_freedom_stalker6

[kamp1@mil_freedom_stalker6]
center_point = camp_center1

;----------------------------------- Патрульный мужик 2 -----------------------
[logic@mil_freedom_stalker7]
active = follower@mil_freedom_stalker7
on_combat = combat@mil_freedom_max
combat_ignore = combat_ignore@mil_freedom_stalker7

[combat_ignore@mil_freedom_stalker7]

;Niieieiia ninoiyiea
[follower@mil_freedom_stalker7]
state_if_leader_in_meet = threat
on_signal = leader_dead | kamp1@mil_freedom_stalker7

[kamp1@mil_freedom_stalker7]
center_point = camp_center1


;----------------------------------- Охранник на входе -----------------------
[logic@mil_freedom_stalker8]
active = zoneguard@mil_freedom_stalker8
on_combat = combat@mil_freedom_max

[zoneguard@mil_freedom_stalker8]
path_walk = path_walk12
path_look = path_look12
zone_warn  = zone6
zone_guard = kill_enter_zone
snd_greet = mil_freedom_zoneguard
team = freedom_guards
no_move = true
meet = on_meet1@mil_freedom_stalker8
on_info = {+mil_zoneguard_talk} zoneguard2@mil_freedom_stalker8

[zoneguard2@mil_freedom_stalker8]
path_walk = path_walk12
path_look = path_look12
zone_warn  = zone6
snd_greet = talk_hello
team = freedom_guards
no_move = true
meet = on_meet2@mil_freedom_stalker8

[on_meet1@mil_freedom_stalker8]
meet_state = 5|ward@mil_freedom_zoneguard
meet_state_wpn = 10|backoff@threat_weap
victim = 20|nil|10|actor
victim_wpn = 20|nil|10|actor
use = true
use_wpn = false
meet_dialog = mil_zoneguard_dialog

[on_meet2@mil_freedom_stalker8]
meet_state = 5|ward@talk_hello
meet_state_wpn = 5|ward@talk_hello
victim = 20|nil|10|actor
victim_wpn = 20|nil|10|actor
use = true
use_wpn = true
meet_dialog = mil_zoneguard_dialog


;----------------------------------- Мужик на входе 1 -----------------------
[logic@mil_freedom_stalker9]
active = camper1@mil_freedom_stalker9
combat_ignore = combat_ignore@mil_freedom_stalker8
on_combat = combat@mil_freedom_max

[combat_ignore@mil_freedom_stalker9]

[camper1@mil_freedom_stalker9]
path_walk = camp_walk3
path_look = camp_look3
wounded_enabled = false

;----------------------------------- Мужик на входе 2 -----------------------
[logic@mil_freedom_stalker10]
active = camper1@mil_freedom_stalker10
combat_ignore = combat_ignore@mil_freedom_stalker10
on_combat = combat@mil_freedom_max

[combat_ignore@mil_freedom_stalker10]

[camper1@mil_freedom_stalker10]
path_walk = camp_walk5
path_look = camp_look5
wounded_enabled = false



;------------------------------------- stalker11 -----------------------------
[logic@mil_freedom_walker1]
active = walker1@mil_freedom
on_combat = combat@mil_freedom_max

[walker1@mil_freedom]
path_walk = gulag_walk1
path_look = gulag_look1

;------------------------------------- stalker12 -----------------------------
[logic@mil_freedom_walker2]
active = walker2@mil_freedom
on_combat = combat@mil_freedom_max

[walker2@mil_freedom]
path_walk = gulag_walk2
path_look = gulag_look2

;------------------------------------- stalker13 -----------------------------
[logic@mil_freedom_walker3]
active = walker3@mil_freedom
on_combat = combat@mil_freedom_max

[walker3@mil_freedom]
path_walk = gulag_walk3
path_look = gulag_look3
;------------------------------------- stalker14 -----------------------------
[logic@mil_freedom_walker4]
active = walker4@mil_freedom
on_combat = combat@mil_freedom_max

[walker4@mil_freedom]
path_walk = gulag_walk4
path_look = gulag_look4

;------------------------------------- stalker15 -----------------------------
[logic@mil_freedom_kamp1]
active = kamp10@mil_freedom
on_combat = combat@mil_freedom_max

[kamp10@mil_freedom]
center_point = camp_center1

;------------------------------------- stalker16 -----------------------------
[logic@mil_freedom_kamp2]
active = kamp20@mil_freedom
on_combat = combat@mil_freedom_max

[kamp20@mil_freedom]
center_point = camp_center1

;------------------------------------- stalker17 -----------------------------
[logic@mil_freedom_kamp3]
active = kamp3@mil_freedom
on_combat = combat@mil_freedom_max

[kamp3@mil_freedom]
center_point = camp_center1

;------------------------------------- stalker18 -----------------------------
[logic@mil_freedom_sleep1]
active = kamp11@mil_freedom
on_combat = combat@mil_freedom_max

[kamp11@mil_freedom]
center_point = gulag_sleep1

;------------------------------------- stalker19 -----------------------------
[logic@mil_freedom_sleep2]
active = kamp200@mil_freedom
on_combat = combat@mil_freedom_max

[kamp200@mil_freedom]
center_point = gulag_sleep1

;------------------------------------- stalker20 -----------------------------
[logic@mil_freedom_sleep3]
active = kamp300@mil_freedom
on_combat = combat@mil_freedom_max

[kamp300@mil_freedom]
center_point = gulag_sleep1

;------------------------------------- stalker21 -----------------------------
[logic@mil_freedom_walker7]
active = walker7@mil_freedom
on_combat = combat@mil_freedom_max

[walker7@mil_freedom]
path_walk = gulag_walk5
path_look = gulag_look5

;------------------------------------- stalker22 -----------------------------
[logic@mil_freedom_walker5]
active = walker5@mil_freedom
on_combat = combat@mil_freedom_max

[walker5@mil_freedom]
path_walk = gulag_walk6
path_look = gulag_look6

;------------------------------------- stalker23 -----------------------------
[logic@mil_freedom_camper6]
active = camper6@mil_freedom
on_combat = combat@mil_freedom_max

[camper6@mil_freedom]
path_walk = gulag_walk7
path_look = gulag_look7


;-------------------------------------------------------------------------------------------------
;combat state 1
;-------------------------------------------------------------------------------------------------
;------------------------------------- Lukash --------------------------------------
[logic@mil_freedom_lukash_combat1]
active = camper1@mil_freedom_lukash_combat1
on_death = on_death@mil_freedom_lukash_combat1

[on_death@mil_freedom_lukash_combat1]
on_info = %+mil_lukash_dead%

[camper1@mil_freedom_lukash_combat1]
path_walk = defense_walk1
path_look = defense_look1
radius = 3
no_retreat = true
wounded_enabled = false

;------------------------------------- Скряга --------------------------------------
[logic@mil_freedom_trader_combat1]
active = walker1@mil_freedom_trader_combat1

[walker1@mil_freedom_trader_combat1]
path_walk = trader_walk2
path_look = trader_look2
radius = 3
no_retreat = true
wounded_enabled = false

;------------------------------------- Охранник арсенала --------------------------
;[logic@mil_freedom_arsenal_combat1]
;active = camper1@mil_freedom_arsenal_combat1

;[camper1@mil_freedom_arsenal_combat1]
;path_walk = defense_walk5
;path_look = defense_look5
;radius = 1
;no_retreat = true

;------------------------------------- Охранник у Лукаша -------------------------
[logic@mil_freedom_guard_combat1]
active = camper1@mil_freedom_guard_combat1

[camper1@mil_freedom_guard_combat1]
path_walk = defense_walk4
path_look = defense_look4
radius = 3
no_retreat = true

;------------------------------------- Телохранитель 1 --------------------------
[logic@mil_freedom_bodyguard1_combat1]
active = camper1@mil_freedom_bodyguard1

[camper1@mil_freedom_bodyguard1]
path_walk = defense_walk3
path_look = defense_look3
radius = 3
no_retreat = true

;------------------------------------- Телохранитель 2 --------------------------
[logic@mil_freedom_bodyguard2_combat1]
active = camper1@mil_freedom_bodyguard2

[camper1@mil_freedom_bodyguard2]
path_walk = defense_walk2
path_look = defense_look2
radius = 3
no_retreat = true

;------------------------------------- Макс --------------------------
[logic@mil_freedom_max_combat1]
active = camper1@mil_freedom_max_combat1
on_death = death@mil_freedom_max_combat1

[camper1@mil_freedom_max_combat1]
path_walk = camp_walk7
path_look = camp_look7
radius = 20
wounded_enabled = false
def_state_moving = run

[death@mil_freedom_max_combat1]
on_info = %=military_max_dead%

;----------------------------------- Мужик у костра 1-----------------------
[logic@mil_freedom_stalker1_combat1]
active = camper1@mil_freedom_stalker1_combat1

[camper1@mil_freedom_stalker1_combat1]
path_walk = camp_walk9
path_look = camp_look9
radius = 20
wounded_enabled = false
def_state_moving = run


;----------------------------------- Мужик у костра 2-----------------------
[logic@mil_freedom_stalker2_combat1]
active = camper1@mil_freedom_stalker2_combat1

[camper1@mil_freedom_stalker2_combat1]
path_walk = camp_walk8
path_look = camp_look8
radius = 20
wounded_enabled = false
def_state_moving = run

;----------------------------------- Мужик у костра 3-----------------------
[logic@mil_freedom_stalker3_combat1]
active = camper1@mil_freedom_stalker3_combat1

[camper1@mil_freedom_stalker3_combat1]
path_walk = stukach_walk1
path_look = stukach_look1
no_retreat = true
radius = 0
wounded_enabled = false
def_state_moving = run

;----------------------------------- Патрульный мужик (одиночка)-----------------------
[logic@mil_freedom_stalker4_combat1]
active = camper1@mil_freedom_stalker4_combat1

[camper1@mil_freedom_stalker4_combat1]
path_walk = camp_walk2
path_look = camp_look2
radius = 20
wounded_enabled = false
def_state_moving = run

;----------------------------------- Патрульный командир -----------------------
[logic@mil_freedom_stalker5_combat1]
active = camper1@mil_freedom_stalker5_combat1

[camper1@mil_freedom_stalker5_combat1]
path_walk = camp_walk1
path_look = camp_look1
radius = 20
wounded_enabled = false
def_state_moving = run


;----------------------------------- Патрульный мужик 1 -----------------------
[logic@mil_freedom_stalker6_combat1]
active = camper1@mil_freedom_stalker6_combat1

[camper1@mil_freedom_stalker6_combat1]
path_walk = camp_walk11
path_look = camp_look11
radius = 20
wounded_enabled = false
def_state_moving = run

;----------------------------------- Патрульный мужик 2 -----------------------
[logic@mil_freedom_stalker7_combat1]
active = camper1@mil_freedom_stalker7_combat1

[camper1@mil_freedom_stalker7_combat1]
path_walk = camp_walk6
path_look = camp_look6
radius = 20
wounded_enabled = false
def_state_moving = run

;----------------------------------- Охранник на входе -----------------------
[logic@mil_freedom_stalker8_combat1]
active = camper1@mil_freedom_stalker8_combat1

[camper1@mil_freedom_stalker8_combat1]
path_walk = camp_walk12_10
path_look = camp_look12_10
radius = 5
no_retreat = true
def_state_moving = run

;----------------------------------- Мужик на входе 1 -----------------------
[logic@mil_freedom_stalker9_combat1]
active = camper1@mil_freedom_stalker9_combat1

[camper1@mil_freedom_stalker9_combat1]
path_walk = camp_walk3_10
path_look = camp_look3_10
radius = 5
no_retreat = true
def_state_moving = run

;----------------------------------- Мужик на входе 2 -----------------------
[logic@mil_freedom_stalker10_combat1]
active = camper1@mil_freedom_stalker10_combat1

[camper1@mil_freedom_stalker10_combat1]
path_walk = camp_walk5_10
path_look = camp_look5_10
radius = 5
no_retreat = true
def_state_moving = run

;----------------------------------- Просто мужик 1 -----------------------
[logic@mil_freedom_stalker11_combat1]
active = camper1@mil_freedom_stalker11_combat1

[camper1@mil_freedom_stalker11_combat1]
path_walk = gulag_defense_walk1
path_look = gulag_defense_look1
radius = 10
wounded_enabled = false
def_state_moving = run

;----------------------------------- Просто мужик 2 -----------------------
[logic@mil_freedom_stalker12_combat1]
active = camper1@mil_freedom_stalker12_combat1

[camper1@mil_freedom_stalker12_combat1]
path_walk = gulag_defense_walk2
path_look = gulag_defense_look2
radius = 10
wounded_enabled = false
def_state_moving = run

;----------------------------------- Просто мужик 3 -----------------------
[logic@mil_freedom_stalker13_combat1]
active = camper1@mil_freedom_stalker13_combat1

[camper1@mil_freedom_stalker13_combat1]
path_walk = gulag_defense_walk3
path_look = gulag_defense_look3
radius = 10
wounded_enabled = false
def_state_moving = run

;----------------------------------- Просто мужик 4 -----------------------
[logic@mil_freedom_stalker14_combat1]
active = camper1@mil_freedom_stalker14_combat1

[camper1@mil_freedom_stalker14_combat1]
path_walk = gulag_defense_walk4
path_look = gulag_defense_look4
radius = 10
wounded_enabled = false
def_state_moving = run

;----------------------------------- Просто мужик 5 -----------------------
[logic@mil_freedom_stalker15_combat1]
active = camper1@mil_freedom_stalker15_combat1

[camper1@mil_freedom_stalker15_combat1]
path_walk = gulag_defense_walk5
path_look = gulag_defense_look5
radius = 10
wounded_enabled = false
def_state_moving = run

;----------------------------------- Просто мужик 6 -----------------------
[logic@mil_freedom_stalker16_combat1]
active = camper1@mil_freedom_stalker16_combat1

[camper1@mil_freedom_stalker16_combat1]
path_walk = gulag_defense_walk6
path_look = gulag_defense_look6
radius = 10
wounded_enabled = false
def_state_moving = run




;-------------------------------------------------------------------------------------------------
;combat state 2
;-------------------------------------------------------------------------------------------------
[logic@mil_freedom_defence]
active = nil




;-------------------------------------------------------------------------------------------------
;Атака хутора Долга
;-------------------------------------------------------------------------------------------------
;----------------------------------- Макс-----------------------
[logic@mil_freedom_max_attack]
;active = remark1@mil_freedom_max_attack
active = walker11@mil_freedom_max_attack

;[remark1@mil_freedom_max_attack]
;snd = mil_max_before_collect
;snd_anim_sync = true
;on_signal = action_end | walker11@mil_freedom_max_attack

[walker11@mil_freedom_max_attack]
path_walk = attack_way7_1
path_look = attack_look_max1
on_signal = arrive | remark1@mil_freedom_max_attack
team = freedom
meet_enabled = false

[remark1@mil_freedom_max_attack]
snd = mil_max_to_tolyan
no_rotate = true
no_move = true
anim = idle
on_signal = action_end | remark2@mil_freedom_max_attack

[remark2@mil_freedom_max_attack]
snd = mil_max_to_kolyan
no_rotate = true
no_move = true
anim = idle
on_signal = action_end | %+mil_freedom_attack_continue1% camper12@mil_freedom_max_attack

[camper12@mil_freedom_max_attack]
path_walk = attack_way7_2
path_look = attack_look2
on_signal = arrive | %+mil_freedom_arrive% camper13@mil_freedom_max_attack
no_retreat = true

[camper13@mil_freedom_max_attack]
path_walk = attack_way7_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_max_attack
no_retreat = true
on_info = {+mil_dolg_dead} walker14@mil_freedom_max_attack

[walker14@mil_freedom_max_attack]
path_walk = attack_way7_5
path_look = attack_look5
on_signal = search | walker15@mil_freedom_max_attack

[walker15@mil_freedom_max_attack]
path_walk = attack_way7_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Мужик у костра 1-----------------------
[logic@mil_freedom_stalker1_attack]
active = walker11@mil_freedom_stalker1_attack

[walker11@mil_freedom_stalker1_attack]
path_walk = attack_way9_1
path_look = attack_look1
team = freedom
on_info = {+mil_freedom_attack_continue2} remark1@mil_freedom_stalker1_attack

[remark1@mil_freedom_stalker1_attack]
snd = mil_collect_laugh1
no_rotate = true
no_move = true
anim = idle
on_signal = action_end | walker15@mil_freedom_stalker1_attack

[walker15@mil_freedom_stalker1_attack]
path_walk = attack_way9_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker1_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker1_attack]
path_walk = attack_way9_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker1_attack
retreat = true
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker1_attack

[walker14@mil_freedom_stalker1_attack]
path_walk = attack_way9_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Мужик у костра 2-----------------------
[logic@mil_freedom_stalker2_attack]
active = walker11@mil_freedom_stalker2_attack

[walker11@mil_freedom_stalker2_attack]
path_walk = attack_way8_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue1} remark1@mil_freedom_stalker2_attack
team = freedom

[remark1@mil_freedom_stalker2_attack]
snd = mil_kolyan
no_rotate = true
no_move = true
anim = idle
on_signal = action_end | %+mil_freedom_attack_continue2%
on_info = {+mil_freedom_attack_continue3} walker15@mil_freedom_stalker2_attack

[walker15@mil_freedom_stalker2_attack]
path_walk = attack_way8_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker2_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker2_attack]
path_walk = attack_way8_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker2_attack
retreat = true
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker2_attack

[walker14@mil_freedom_stalker2_attack]
path_walk = attack_way8_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Мужик у костра 3-----------------------
[logic@mil_freedom_stalker3_attack]
active = walker1@mil_freedom_stalker3_attack

[walker1@mil_freedom_stalker3_attack]
path_walk = stukach_walk2
path_look = stukach_look2



;----------------------------------- Патрульный мужик (одиночка)-----------------------
[logic@mil_freedom_stalker4_attack]
active = walker11@mil_freedom_stalker4_attack

[walker11@mil_freedom_stalker4_attack]
path_walk = attack_way2_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue2} remark1@mil_freedom_stalker4_attack
team = freedom

[remark1@mil_freedom_stalker4_attack]
snd = mil_collect_laugh2
no_rotate = true
no_move = true
anim = idle
on_signal = action_end | %+mil_freedom_attack_continue3% walker15@mil_freedom_stalker4_attack

[walker15@mil_freedom_stalker4_attack]
path_walk = attack_way2_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker4_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker4_attack]
path_walk = attack_way2_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker4_attack
no_retreat = true
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker4_attack

[walker14@mil_freedom_stalker4_attack]
path_walk = attack_way2_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Патрульный командир -----------------------
[logic@mil_freedom_stalker5_attack]
active = walker11@mil_freedom_stalker5_attack

[walker11@mil_freedom_stalker5_attack]
path_walk = attack_way1_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue2} remark1@mil_freedom_stalker5_attack
team = freedom

[remark1@mil_freedom_stalker5_attack]
snd = mil_collect_laugh3
no_rotate = true
no_move = true
anim = idle
on_info = {+mil_freedom_attack_continue3} walker15@mil_freedom_stalker5_attack

[walker15@mil_freedom_stalker5_attack]
path_walk = attack_way1_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker5_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker5_attack]
path_walk = attack_way1_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker5_attack
no_retreat = true
radius = 0
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker5_attack

[walker14@mil_freedom_stalker5_attack]
path_walk = attack_way1_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Патрульный мужик 1 -----------------------
[logic@mil_freedom_stalker6_attack]
active = walker11@mil_freedom_stalker6_attack

[walker11@mil_freedom_stalker6_attack]
path_walk = attack_way4_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue2} remark1@mil_freedom_stalker6_attack
team = freedom

[remark1@mil_freedom_stalker6_attack]
snd = mil_collect_laugh4
no_rotate = true
no_move = true
anim = idle
on_info = {+mil_freedom_attack_continue3} walker15@mil_freedom_stalker6_attack

[walker15@mil_freedom_stalker6_attack]
path_walk = attack_way4_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker6_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker6_attack]
path_walk = attack_way4_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker6_attack
no_retreat = true
radius = 0
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker6_attack

[walker14@mil_freedom_stalker6_attack]
path_walk = attack_way4_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Патрульный мужик 2 -----------------------
[logic@mil_freedom_stalker7_attack]
active = walker11@mil_freedom_stalker7_attack

[walker11@mil_freedom_stalker7_attack]
path_walk = attack_way6_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue2} remark1@mil_freedom_stalker7_attack
team = freedom

[remark1@mil_freedom_stalker7_attack]
snd = mil_collect_laugh5
no_rotate = true
no_move = true
anim = idle
on_info = {+mil_freedom_attack_continue3} walker15@mil_freedom_stalker7_attack

[walker15@mil_freedom_stalker7_attack]
path_walk = attack_way6_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker7_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker7_attack]
path_walk = attack_way6_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker7_attack
no_retreat = true
radius = 0
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker7_attack

[walker14@mil_freedom_stalker7_attack]
path_walk = attack_way6_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Мужик на входе 1 -----------------------
[logic@mil_freedom_stalker8_attack]
active = walker11@mil_freedom_stalker8_attack

[walker11@mil_freedom_stalker8_attack]
path_walk = attack_way3_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue3} walker15@mil_freedom_stalker8_attack
team = freedom

[walker15@mil_freedom_stalker8_attack]
path_walk = attack_way3_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker8_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker8_attack]
path_walk = attack_way3_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker8_attack
no_retreat = true
radius = 0
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker8_attack

[walker14@mil_freedom_stalker8_attack]
path_walk = attack_way3_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;----------------------------------- Мужик на входе 2 -----------------------
[logic@mil_freedom_stalker9_attack]
active = walker11@mil_freedom_stalker9_attack

[walker11@mil_freedom_stalker9_attack]
path_walk = attack_way5_1
path_look = attack_look1
on_info = {+mil_freedom_attack_continue3} walker15@mil_freedom_stalker9_attack
team = freedom

[walker15@mil_freedom_stalker9_attack]
path_walk = attack_way5_2
on_info = {+mil_freedom_arrive} camper13@mil_freedom_stalker9_attack
combat_ignore_cond = always

[camper13@mil_freedom_stalker9_attack]
path_walk = attack_way5_3
path_look = attack_look3
on_signal = final | walker14@mil_freedom_stalker9_attack
no_retreat = true
radius = 0
on_info = {+mil_dolg_dead} walker14@mil_freedom_stalker9_attack

[walker14@mil_freedom_stalker9_attack]
path_walk = attack_way5_4
path_look = attack_look4
on_signal = return | %-mil_freedom_attack% nil

;-------------------------------------------------------------------------------------------------
;-- Гулаг зверей около труб
;-------------------------------------------------------------------------------------------------
[logic@mil_tubes_mutant]
active = nil



;-------------------------------------------------------------------------------------------------
;-- Блокпост Свободы у выхода на Радар
;-------------------------------------------------------------------------------------------------
;------- общий лагерь
[logic@mil_fblockpost_stalker]
active = kamp@mil_fblockpost_stalker

[kamp@mil_fblockpost_stalker]
center_point = kamp

;------- командир
[logic@mil_fblockpost_commander]
active = walker1@mil_fblockpost_commander
actor_dialogs = dialogs@mil_fblockpost_commander

[dialogs@mil_fblockpost_commander]
id = mil_freedom_commander_common1, mil_freedom_commander_common2

[walker1@mil_fblockpost_commander]
path_walk = commander_walk
path_look = commander_look
meet = on_meet@mil_fblockpost_commander

[on_meet@mil_fblockpost_commander]
meet_state = 10|ward
meet_state_wpn = 10|ward
victim = 10|actor
victim_wpn = 10|actor
use = true
use_wpn = true
meet_dialog = mil_freedom_commander


;-- патруль 1
[logic@mil_fblockpost_patrol1]
active = walker1@mil_fblockpost_patrol1

[walker1@mil_fblockpost_patrol1]
path_walk = patrol_walk1
path_look = patrol_look1

;-- патруль 2
[logic@mil_fblockpost_patrol2]
active = walker1@mil_fblockpost_patrol2

[walker1@mil_fblockpost_patrol2]
path_walk = patrol_walk2
path_look = patrol_look2


;-- кэмперы
[logic@mil_fblockpost_camper1]
active = camper1@mil_fblockpost_camper1

[camper1@mil_fblockpost_camper1]
path_walk = camp_walk01
path_look = camp_look01
def_state_moving = run
radius = 2
threshold@mil_fbarier

;--
[logic@mil_fblockpost_camper2]
active = camper1@mil_fblockpost_camper2

[camper1@mil_fblockpost_camper2]
path_walk = camp_walk02
path_look = camp_look02
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fblockpost_camper3]
active = camper1@mil_fblockpost_camper3

[camper1@mil_fblockpost_camper3]
path_walk = camp_walk03
path_look = camp_look03
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fblockpost_camper4]
active = camper1@mil_fblockpost_camper4

[camper1@mil_fblockpost_camper4]
path_walk = camp_walk04
path_look = camp_look04
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fblockpost_camper5]
active = camper1@mil_fblockpost_camper5

[camper1@mil_fblockpost_camper5]
path_walk = camp_walk05
path_look = camp_look05
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fblockpost_camper6]
active = camper1@mil_fblockpost_camper6

[camper1@mil_fblockpost_camper6]
path_walk = camp_walk06
path_look = camp_look06
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fblockpost_camper7]
active = camper1@mil_fblockpost_camper7

[camper1@mil_fblockpost_camper7]
path_walk = camp_walk07
path_look = camp_look07
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--



;-------------------------------------------------------------------------------------------------
;-- Блокпост нейтралов у выхода на Радар
;-------------------------------------------------------------------------------------------------
;------- общий лагерь
[logic@mil_fneutral_stalker]
active = kamp@mil_fneutral_stalker

[kamp@mil_fneutral_stalker]
center_point = kamp

;------- командир
[logic@mil_fneutral_commander]
active = walker1@mil_fneutral_commander
;actor_dialogs = dialogs@mil_fneutral_commander
meet = on_meet@mil_freedom_max

[on_meet@mil_fneutral_commander]
distance = 5

;[dialogs@mil_fneutral_commander]
;id = mil_neutral_commander

[walker1@mil_fneutral_commander]
path_walk = commander_walk
path_look = commander_look
meet = on_meet@@mil_fneutral_commander

[on_meet@@mil_fneutral_commander]
meet_state = 10|ward
meet_state_wpn = 10|ward
victim = 10|actor
victim_wpn = 10|actor
use = true
use_wpn = true
meet_dialog = mil_neutral_commander


;-- патруль 1
[logic@mil_fneutral_patrol1]
active = walker1@mil_fneutral_patrol1

[walker1@mil_fneutral_patrol1]
path_walk = patrol_walk1
path_look = patrol_look1

;-- патруль 2
[logic@mil_fneutral_patrol2]
active = walker1@mil_fneutral_patrol2

[walker1@mil_fneutral_patrol2]
path_walk = patrol_walk2
path_look = patrol_look2


;-- кэмперы
[logic@mil_fneutral_camper1]
active = camper1@mil_fneutral_camper1

[camper1@mil_fneutral_camper1]
path_walk = camp_walk01
path_look = camp_look01
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fneutral_camper2]
active = camper1@mil_fneutral_camper2

[camper1@mil_fneutral_camper2]
path_walk = camp_walk02
path_look = camp_look02
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fneutral_camper3]
active = camper1@mil_fneutral_camper3

[camper1@mil_fneutral_camper3]
path_walk = camp_walk03
path_look = camp_look03
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fneutral_camper4]
active = camper1@mil_fneutral_camper4

[camper1@mil_fneutral_camper4]
path_walk = camp_walk04
path_look = camp_look04
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--
[logic@mil_fneutral_camper5]
active = camper1@mil_fneutral_camper5

[camper1@mil_fneutral_camper5]
path_walk = camp_walk05
path_look = camp_look05
def_state_moving = run
radius = 2
threshold@mil_fbarier
;--


[threshold@mil_fbarier]
max_ignore_distance = 100
;ignore_monster = 0.0
