;-------------------------------------------------------------------------------------------------
;-- ESCAPE BLOCKPOST
;-------------------------------------------------------------------------------------------------
[logic@esc_blockpost_patrol1]
active = walker10@esc_blockpost

[walker10@esc_blockpost]
path_walk = patrol_0
path_look = patrol_look_0
on_signal = arrive | %=search_gulag_job%

[logic@esc_blockpost_follower1]
active = follower1@esc_blockpost

[follower1@esc_blockpost]
;on_signal = arrive | %=search_gulag_job%


[logic@esc_blockpost_follower2]
active = follower2@esc_blockpost

[follower2@esc_blockpost]
;on_signal = arrive | %=search_gulag_job%


[logic@esc_blockpost_camper1]
active = camper1@esc_blockpost

[camper1@esc_blockpost]
path_walk = guard_light_walk
path_look = guard_light_look


[logic@esc_blockpost_walker2]
active = walker2@esc_blockpost

[walker2@esc_blockpost]
path_walk = guard_right_walk


[logic@esc_blockpost_walker3]
active = walker3@esc_blockpost

[walker3@esc_blockpost]
path_walk = guard_left_walk


[logic@esc_blockpost_kamp1]
active = kamp1@esc_blockpost

[kamp1@esc_blockpost]
center_point = camp


[logic@esc_blockpost_sleeper1]
active = sleeper1@esc_blockpost

[sleeper1@esc_blockpost]
path_main = sleep_1


[logic@esc_blockpost_sleeper2]
active = sleeper2@esc_blockpost

[sleeper2@esc_blockpost]
path_main = sleep_2


[logic@esc_blockpost_sleeper3]
active = sleeper3@esc_blockpost

[sleeper3@esc_blockpost]
path_main = sleep_3


[logic@esc_blockpost_sleeper4]
active = sleeper4@esc_blockpost

[sleeper4@esc_blockpost]
path_main = sleep_4


[logic@esc_blockpost_sleeper5]
active = sleeper5@esc_blockpost

[sleeper5@esc_blockpost]
path_main = sleep_5


[logic@esc_blockpost_sleeper6]
active = sleeper6@esc_blockpost

[sleeper6@esc_blockpost]
path_main = sleep_6


[logic@esc_blockpost_alarm_walker1]
active = walker1@esc_blockpost_alarm

[walker1@esc_blockpost_alarm]
path_walk = alarm_walk1
path_look = alarm_look1


[logic@esc_blockpost_alarm_walker2]
active = walker2@esc_blockpost_alarm

[walker2@esc_blockpost_alarm]
path_walk = alarm_walk2
path_look = alarm_look2


[logic@esc_blockpost_alarm_walker3]
active = walker3@esc_blockpost_alarm

[walker3@esc_blockpost_alarm]
path_walk = alarm_walk3
path_look = alarm_look3


[logic@esc_blockpost_alarm_walker4]
active = walker4@esc_blockpost_alarm

[walker4@esc_blockpost_alarm]
path_walk = alarm_walk4
path_look = alarm_look4


[logic@esc_blockpost_alarm_walker5]
active = walker5@esc_blockpost_alarm

[walker5@esc_blockpost_alarm]
path_walk = alarm_right_walk
path_look = alarm_right_look


[logic@esc_blockpost_alarm_walker6]
active = walker6@esc_blockpost_alarm

[walker6@esc_blockpost_alarm]
path_walk = alarm_left_walk
path_look = alarm_left_look


[logic@esc_blockpost_commander_day]
active = walker@esc_blockpost_commander_day

[walker@esc_blockpost_commander_day]
path_walk = commander_walk
path_look = commander_look

[logic@esc_blockpost_commander_night]
active = sleeper@esc_blockpost_commander_night

[sleeper@esc_blockpost_commander_night]
path_main = commander_sleep

;-------------------------------------------------------------------------------------------------
;-- ESCAPE LAGER
;-------------------------------------------------------------------------------------------------
; Волк
[logic@esc_lager_volk]
active = walker@esc_lager_volk_walker1

[walker@esc_lager_volk_walker1]
path_walk = wolf_walk
path_look = wolf_look
;meet_dialog = escape_lager_volk_hello
on_actor_dist_le = 5 | {+tutorial_wounded_help -tutorial_wounded_die} remark@esc_lager_volk_remark1
meet = meet@wolf

[remark@esc_lager_volk_remark1]
snd = esc_volk_greet1
on_info  = {=talking} remark@esc_lager_volk_remark3
on_signal = sound_end | remark@esc_lager_volk_wait1
meet = meet@wolf
no_move = true

[remark@esc_lager_volk_wait1]
snd = esc_volk_greet1
on_actor_dist_ge = 5 | walker@esc_lager_volk_walker2
on_info  = {=talking} remark@esc_lager_volk_remark3
on_timer = 5000 | remark@esc_lager_volk_remark2
meet = meet@wolf
no_move = true

[walker@esc_lager_volk_walker2]
path_walk = wolf_walk
path_look = wolf_look
on_actor_dist_le = 5 | {-tutorial_wounded_die} remark@esc_lager_volk_remark2, walker@esc_lager_volk_walker1
meet = meet@wolf

[remark@esc_lager_volk_remark2]
anim = wait
snd = esc_volk_greet2
on_info  = {=talking} remark@esc_lager_volk_remark3
on_signal = sound_end | remark@esc_lager_volk_wait2
meet = meet@wolf
no_move = true

[remark@esc_lager_volk_wait2]
anim = wait
snd = esc_volk_greet2
on_actor_dist_ge = 5 | walker@esc_lager_volk_walker3
on_timer = 5000 | remark@esc_lager_volk_remark3
on_info  = {=talking} remark@esc_lager_volk_remark3
meet = meet@wolf
no_move = true

[walker@esc_lager_volk_walker3]
path_walk = wolf_walk
path_look = wolf_look
on_actor_dist_le = 5 | remark@esc_lager_volk_remark3
meet = meet@wolf

[remark@esc_lager_volk_remark3]
anim = wait
on_actor_dist_ge = 5 | walker@esc_lager_volk_walker3
meet = meet@wolf
no_move = true

[meet@wolf]
meet_state		= 15|wait@wait
meet_state_wpn	= 15|backoff@threat_weap
victim		= 15|actor
victim_wpn		= 15|actor
use			= true
use_wpn		= false
syndata		= hello@hail|backoff@threat_weap


;охранники
[esc_lager_actor_dialogs]
id = escape_lager_access

[logic@esc_lager_zoneguard1]
active = walker@esc_lager_zoneguard1
actor_dialogs = esc_lager_actor_dialogs

[walker@esc_lager_zoneguard1]
path_walk  = guard_walk1
path_look  = guard_look1
meet = meet@zoneguard_novice_lager1

[meet@zoneguard_novice_lager1]
meet_state 		= 30| {+tutorial_wounded_help} wait, {+tutorial_wounded_death} wait, {+tutorial_wounded_die} backoff, threat@ {+tutorial_wounded_help} talk_hello, {+tutorial_wounded_death} talk_hello, {+tutorial_wounded_die} threat_stop, threat_back
meet_state_wpn 	= 30| {+tutorial_wounded_help} wait, {+tutorial_wounded_death} wait, {+tutorial_wounded_die} backoff, threat@ {+tutorial_wounded_help} talk_hello, {+tutorial_wounded_death} talk_hello, {+tutorial_wounded_die} threat_stop, threat_back
victim 			= 30| actor
victim_wpn 		= 30| actor
use			= true
use_wpn		= true
zone			= esc_lager_guard_warn_zone1|{-tutorial_end} threat@ {-tutorial_end} threat_back|esc_lager_guard_kill_zone| {-tutorial_end} true@ {-tutorial_end} talk_abuse
meet_dialog		= escape_lager_guard_start_dialog



[logic@esc_lager_zoneguard2]
active = walker@esc_lager_zoneguard2
actor_dialogs = esc_lager_actor_dialogs

[walker@esc_lager_zoneguard2]
path_walk  = guard_walk2
path_look  = guard_look2
meet = meet@zoneguard_novice_lager2

[meet@zoneguard_novice_lager2]
meet_state 		= 30| {+tutorial_wounded_help} wait, {+tutorial_wounded_death} wait, {+tutorial_wounded_die} backoff, threat@ {+tutorial_wounded_help} talk_hello, {+tutorial_wounded_death} talk_hello, {+tutorial_wounded_die} threat_stop, threat_back
meet_state_wpn 	= 30| {+tutorial_wounded_help} wait, {+tutorial_wounded_death} wait, {+tutorial_wounded_die} backoff, threat@ {+tutorial_wounded_help} talk_hello, {+tutorial_wounded_death} talk_hello, {+tutorial_wounded_die} threat_stop, threat_back
victim 			= 30| actor
victim_wpn 		= 30| actor
use			= true
use_wpn		= true
zone			= esc_lager_guard_warn_zone2| {-tutorial_end} threat@ {-tutorial_end} threat_back|esc_lager_guard_kill_zone| {-tutorial_end} true@ {-tutorial_end} talk_abuse
meet_dialog		= escape_lager_guard_start_dialog

[logic@esc_lager_walker1]
active = walker1@esc_lager

[walker1@esc_lager]
path_walk  = guard_walk1
path_look  = guard_look1
meet_enabled = true
meet_dialog = escape_lager_guard_start_dialog


[logic@esc_lager_walker2]
active = walker2@esc_lager

[walker2@esc_lager]
path_walk  = guard_walk2
path_look  = guard_look2
meet_enabled = true
meet_dialog = escape_lager_guard_start_dialog


[logic@esc_lager_walker3]
active = walker3@esc_lager

[walker3@esc_lager]
path_walk  = guard_walk3


[logic@esc_lager_walker4]
active = walker4@esc_lager

[walker4@esc_lager]
path_walk  = guard_walk4


; сидящие днём у костра
[logic@esc_lager_kamp1]
active = kamp1@esc_lager

[kamp1@esc_lager]
center_point  = camp_center


;спящие ночью
[logic@esc_lager_sleeper1]
active = sleeper1@esc_lager

[sleeper1@esc_lager]
path_main = sleep1


[logic@esc_lager_sleeper2]
active = sleeper2@esc_lager

[sleeper2@esc_lager]
path_main = sleep2


[logic@esc_lager_sleeper3]
active = sleeper3@esc_lager

[sleeper3@esc_lager]
path_main = sleep3


;спящие ночью и днём
[logic@esc_lager_sleeper4]
active = sleeper4@esc_lager

[sleeper4@esc_lager]
path_main = sleep4


[logic@esc_lager_sleeper5]
active = sleeper5@esc_lager

[sleeper5@esc_lager]
path_main = sleep5


[logic@esc_lager_sleeper6]
active = sleeper6@esc_lager

[sleeper6@esc_lager]
path_main = sleep6


[logic@esc_lager_sleeper7]
active = sleeper7@esc_lager

[sleeper7@esc_lager]
path_main = sleep7

;-------------------------------------------------------------------------------------------------
;-- ESCAPE FACTORY BANDITS
;-------------------------------------------------------------------------------------------------
[logic@esc_fabrika_bandit_walker1]
active = walker1@esc_fabrika_bandit

[walker1@esc_fabrika_bandit]
path_walk = day_walk1
path_look = day_look1
def_state_moving = raid
def_state_moving_fire = raid_fire
def_state_campering = threat
def_state_campering_fire = threat_fire

[logic@esc_fabrika_bandit_walker2]
active = walker2@esc_fabrika_bandit

[walker2@esc_fabrika_bandit]
path_walk = day_walk2
path_look = day_look2


[logic@esc_fabrika_bandit_walker3]
active = walker3@esc_fabrika_bandit

[walker3@esc_fabrika_bandit]
path_walk = day_walk3
path_look = day_look3
def_state_moving = raid
def_state_moving_fire = raid_fire
def_state_campering = threat
def_state_campering_fire = threat_fire

[logic@esc_fabrika_bandit_walker4]
active = walker4@esc_fabrika_bandit

[walker4@esc_fabrika_bandit]
path_walk = day_walk4
path_look = day_look4


[logic@esc_fabrika_bandit_kamp]
active = kamp@esc_fabrika_bandit

[kamp@esc_fabrika_bandit]
center_point = camp_center


[camper@esc_fabrika_bandit_walker1]
active = walker11@esc_fabrika_bandit

[walker11@esc_fabrika_bandit]
path_walk = day_alarm_walk1
path_look = day_alarm_look1


[camper@esc_fabrika_bandit_walker2]
active = walker22@esc_fabrika_bandit

[walker22@esc_fabrika_bandit]
path_walk = day_alarm_walk2
path_look = day_alarm_look2


[camper@esc_fabrika_bandit_walker3]
active = walker33@esc_fabrika_bandit

[walker33@esc_fabrika_bandit]
path_walk = day_alarm_walk3
path_look = day_alarm_look3


[camper@esc_fabrika_bandit_walker4]
active = walker44@esc_fabrika_bandit

[walker44@esc_fabrika_bandit]
path_walk = day_alarm_walk4
path_look = day_alarm_look4


[camper@esc_fabrika_bandit_walker5]
active = walker55@esc_fabrika_bandit

[walker55@esc_fabrika_bandit]
path_walk = day_alarm_walk5
path_look = day_alarm_look5


[camper@esc_fabrika_bandit_walker6]
active = walker66@esc_fabrika_bandit

[walker66@esc_fabrika_bandit]
path_walk = day_alarm_walk6
path_look = day_alarm_look6


[camper@esc_fabrika_bandit_walker7]
active = walker7@esc_fabrika_bandit

[walker7@esc_fabrika_bandit]
path_walk = day_night_sniper_walk
path_look = day_night_sniper_look