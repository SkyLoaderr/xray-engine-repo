#include "gulag_garbage.ltx"
#include "gulag_dark_valley.ltx"
#include "gulag_labx18.ltx"
#include "gulag_bar.ltx"
#include "gulag_radar.ltx"
#include "gulag_agroprom.ltx"
#include "gulag_military.ltx"
#include "gulag_pripyat.ltx"

;-------------------------------------------------------------------------------------------------
;-- test
;-------------------------------------------------------------------------------------------------
[logic@walker1]
active = walker1

[walker1]
path_walk = pw1
path_look = pl1


[logic@walker2]
active = walker2

[walker2]
path_walk = pw2
path_look = pl2


[logic@walker3]
active = walker3

[walker3]
path_walk = pw3
path_look = pl3


[logic@nil]
active = nil

;-------------------------------------------------------------------------------------------------
;-- test1
;-------------------------------------------------------------------------------------------------
[logic@test1_sleeper]
active = sleeper@test1

[sleeper@test1]
path_main = sleep_1

;-------------------------------------------------------------------------------------------------
;-- test_mob
;-------------------------------------------------------------------------------------------------
[logic@test_mob_mob_walker]
active = mob_walker@test_mob

[mob_walker@test_mob]
path_walk = walk1

;-------------------------------------------------------------------------------------------------
;-- ”ниверсальный гулаг "кэмперы"
;-------------------------------------------------------------------------------------------------
[logic@campers_camper1]
active = camper1@campers

[camper1@campers]
path_walk = camper_walk1
path_look = camper_look1
meet_enabled = true


[logic@campers_camper2]
active = camper2@campers

[camper2@campers]
path_walk = camper_walk2
path_look = camper_look2
meet_enabled = true


[logic@campers_camper3]
active = camper3@campers

[camper3@campers]
path_walk = camper_walk3
path_look = camper_look3
meet_enabled = true

;-------------------------------------------------------------------------------------------------
;-- ”ниверсальный гулаг "ходоки" (walkers)
;-------------------------------------------------------------------------------------------------
[logic@walkers_walker1]
active = walker1@walkers

[walker1@walkers]
path_walk = walker_walk1
path_look = walker_look1
meet_enabled = true


[logic@walkers_walker2]
active = walker2@walkers

[walker2@walkers]
path_walk = walker_walk2
path_look = walker_look2
meet_enabled = true


[logic@walkers_walker3]
active = walker3@walkers

[walker3@walkers]
path_walk = walker_walk3
path_look = walker_look3
meet_enabled = true

;-------------------------------------------------------------------------------------------------
;-- ”ниверсальный гулаг "поиск" (тот же walker)
;-------------------------------------------------------------------------------------------------
[logic@search_walker]
active = walker@search

[walker@search]
path_walk = search_walk
path_look = search_look
meet_enabled = true

;-------------------------------------------------------------------------------------------------
;-- ”ниверсальный гулаг "отдых"
;-------------------------------------------------------------------------------------------------
[logic@rest_rest]
active = rest@rest

[rest@rest]
path_rest = rest
meet_talk_enabled = true
on_signal = rest_end | {~50} walker@rest, {~100} sleeper@rest

[walker@rest]
path_walk = rest_walk
path_look = rest_look
meet_enabled = true
on_timer  = 50000 | {~50} rest@rest, {~100} sleeper@rest

[sleeper@rest]
path_main = sleep
on_timer  = 100000 | {~50} walker@rest, {~100} rest@rest

;-------------------------------------------------------------------------------------------------
;-- ESCAPE BLOCKPOST
;-------------------------------------------------------------------------------------------------
[logic@esc_blockpost_patrol1]
active = walker10@esc_blockpost

[walker10@esc_blockpost]
path_walk = patrol_0
path_look = patrol_look_0
on_signal = arrive | %=search_gulag_job%

[logic@esc_blockpost_follower1]
active = follower1@esc_blockpost

[follower1@esc_blockpost]
;on_signal = arrive | %=search_gulag_job%


[logic@esc_blockpost_follower2]
active = follower2@esc_blockpost

[follower2@esc_blockpost]
;on_signal = arrive | %=search_gulag_job%


[logic@esc_blockpost_camper1]
active = camper1@esc_blockpost

[camper1@esc_blockpost]
path_walk = guard_light_walk
path_look = guard_light_look


[logic@esc_blockpost_walker2]
active = walker2@esc_blockpost

[walker2@esc_blockpost]
path_walk = guard_right_walk


[logic@esc_blockpost_walker3]
active = walker3@esc_blockpost

[walker3@esc_blockpost]
path_walk = guard_left_walk


[logic@esc_blockpost_kamp1]
active = kamp1@esc_blockpost

[kamp1@esc_blockpost]
center_point = camp


[logic@esc_blockpost_sleeper1]
active = sleeper1@esc_blockpost

[sleeper1@esc_blockpost]
path_main = sleep_1


[logic@esc_blockpost_sleeper2]
active = sleeper2@esc_blockpost

[sleeper2@esc_blockpost]
path_main = sleep_2


[logic@esc_blockpost_sleeper3]
active = sleeper3@esc_blockpost

[sleeper3@esc_blockpost]
path_main = sleep_3


[logic@esc_blockpost_sleeper4]
active = sleeper4@esc_blockpost

[sleeper4@esc_blockpost]
path_main = sleep_4


[logic@esc_blockpost_sleeper5]
active = sleeper5@esc_blockpost

[sleeper5@esc_blockpost]
path_main = sleep_5


[logic@esc_blockpost_sleeper6]
active = sleeper6@esc_blockpost

[sleeper6@esc_blockpost]
path_main = sleep_6


[logic@esc_blockpost_alarm_walker1]
active = walker1@esc_blockpost_alarm

[walker1@esc_blockpost_alarm]
path_walk = alarm_walk1
path_look = alarm_look1


[logic@esc_blockpost_alarm_walker2]
active = walker2@esc_blockpost_alarm

[walker2@esc_blockpost_alarm]
path_walk = alarm_walk2
path_look = alarm_look2


[logic@esc_blockpost_alarm_walker3]
active = walker3@esc_blockpost_alarm

[walker3@esc_blockpost_alarm]
path_walk = alarm_walk3
path_look = alarm_look3


[logic@esc_blockpost_alarm_walker4]
active = walker4@esc_blockpost_alarm

[walker4@esc_blockpost_alarm]
path_walk = alarm_walk4
path_look = alarm_look4


[logic@esc_blockpost_alarm_walker5]
active = walker5@esc_blockpost_alarm

[walker5@esc_blockpost_alarm]
path_walk = alarm_right_walk
path_look = alarm_right_look


[logic@esc_blockpost_alarm_walker6]
active = walker6@esc_blockpost_alarm

[walker6@esc_blockpost_alarm]
path_walk = alarm_left_walk
path_look = alarm_left_look


[logic@esc_blockpost_commander_day]
active = walker@esc_blockpost_commander_day

[walker@esc_blockpost_commander_day]
path_walk = commander_walk
path_look = commander_look

[logic@esc_blockpost_commander_night]
active = sleeper@esc_blockpost_commander_night

[sleeper@esc_blockpost_commander_night]
path_main = commander_sleep

;-------------------------------------------------------------------------------------------------
;-- ESCAPE LAGER
;-------------------------------------------------------------------------------------------------
;охранники
[zoneguard@esc_lager_actor_dialogs]
id = escape_lager_access


[logic@esc_lager_zoneguard1]
active = zoneguard1@esc_lager
actor_dialogs = zoneguard@esc_lager_actor_dialogs

[zoneguard1@esc_lager]
path_walk  = guard_walk1
path_look  = guard_look1
zone_guard = guard_kill_zone
zone_warn  = guard_warn_zone1
no_move    = true
team       = guards
snd_greet  = esc_novice_camp_guards
anim       = backoff
on_info    = {+tutorial_wounded_help} zoneguard1@esc_lager_friend, {+tutorial_wounded_death} zoneguard1@esc_lager_friend, {+tutorial_wounded_die} zoneguard1@esc_lager_enemy
meet_talk_enabled = true
meet_state = backoff
meet_dialog = escape_lager_guard_start_dialog
snd_anim_sync = true

[zoneguard1@esc_lager_friend]
path_walk  = guard_walk1
path_look  = guard_look1
zone_warn  = guard_warn_zone1
team       = guards
snd_greet  = talk_hello
no_move    = true
no_danger  = true
meet_talk_enabled = true
meet_dialog = escape_lager_guard_start_dialog

[zoneguard1@esc_lager_enemy]
path_walk  = guard_walk1
path_look  = guard_look1
zone_guard = guard_kill_zone
zone_warn  = guard_warn_zone1
no_move    = true
team       = guards
snd_greet  = threat_stop
anim       = backoff
meet_talk_enabled = true
meet_state = backoff
meet_dialog = escape_lager_guard_start_dialog
snd_anim_sync = true


[logic@esc_lager_zoneguard2]
active = zoneguard2@esc_lager
actor_dialogs = zoneguard@esc_lager_actor_dialogs

[zoneguard2@esc_lager]
path_walk  = guard_walk2
path_look  = guard_look2
zone_guard = guard_kill_zone
zone_warn  = guard_warn_zone2
team       = guards
no_move    = true
snd_greet  = esc_novice_camp_guards
anim       = backoff
on_info    = {+tutorial_wounded_help} zoneguard2@esc_lager_friend, {+tutorial_wounded_death} zoneguard2@esc_lager_friend, {+tutorial_wounded_die} zoneguard2@esc_lager_enemy
meet_talk_enabled = true
meet_state = backoff
meet_dialog = escape_lager_guard_start_dialog
snd_anim_sync = true

[zoneguard2@esc_lager_friend]
path_walk  = guard_walk2
path_look  = guard_look2
zone_warn  = guard_warn_zone2
team       = guards
snd_greet  = talk_hello
no_move    = true
no_danger  = true
meet_talk_enabled = true
meet_dialog = escape_lager_guard_start_dialog

[zoneguard2@esc_lager_enemy]
path_walk  = guard_walk2
path_look  = guard_look2
zone_guard = guard_kill_zone
zone_warn  = guard_warn_zone2
no_move    = true
team       = guards
snd_greet  = threat_stop
anim       = backoff
meet_talk_enabled = true
meet_state = backoff
meet_dialog = escape_lager_guard_start_dialog
snd_anim_sync = true


[logic@esc_lager_walker1]
active = walker1@esc_lager

[walker1@esc_lager]
path_walk  = guard_walk1
path_look  = guard_look1
meet_enabled = true
meet_dialog = escape_lager_guard_start_dialog


[logic@esc_lager_walker2]
active = walker2@esc_lager

[walker2@esc_lager]
path_walk  = guard_walk2
path_look  = guard_look2
meet_enabled = true
meet_dialog = escape_lager_guard_start_dialog


[logic@esc_lager_walker3]
active = walker3@esc_lager

[walker3@esc_lager]
path_walk  = guard_walk3


[logic@esc_lager_walker4]
active = walker4@esc_lager

[walker4@esc_lager]
path_walk  = guard_walk4


; сид€щие днЄм у костра
[logic@esc_lager_kamp1]
active = kamp1@esc_lager

[kamp1@esc_lager]
center_point  = camp_center
patrol_path_1 = camp_walk1
path_look_1   = camp_look1
patrol_path_2 = camp_walk2
path_look_2   = camp_look2
patrol_path_3 = camp_walk3
path_look_3   = camp_look3


;сп€щие ночью
[logic@esc_lager_sleeper1]
active = sleeper1@esc_lager

[sleeper1@esc_lager]
path_main = sleep1


[logic@esc_lager_sleeper2]
active = sleeper2@esc_lager

[sleeper2@esc_lager]
path_main = sleep2


[logic@esc_lager_sleeper3]
active = sleeper3@esc_lager

[sleeper3@esc_lager]
path_main = sleep3


;сп€щие ночью и днЄм
[logic@esc_lager_sleeper4]
active = sleeper4@esc_lager

[sleeper4@esc_lager]
path_main = sleep4


[logic@esc_lager_sleeper5]
active = sleeper5@esc_lager

[sleeper5@esc_lager]
path_main = sleep5


[logic@esc_lager_sleeper6]
active = sleeper6@esc_lager

[sleeper6@esc_lager]
path_main = sleep6


[logic@esc_lager_sleeper7]
active = sleeper7@esc_lager

[sleeper7@esc_lager]
path_main = sleep7

;-------------------------------------------------------------------------------------------------
;-- ESCAPE FACTORY BANDITS
;-------------------------------------------------------------------------------------------------
[logic@esc_fabrika_bandit_walker1]
active = walker1@esc_fabrika_bandit

[walker1@esc_fabrika_bandit]
path_walk = day_walk1
path_look = day_look1
def_state_moving = raid
def_state_moving_fire = raid_fire
def_state_campering = threat
def_state_campering_fire = threat_fire

[logic@esc_fabrika_bandit_walker2]
active = walker2@esc_fabrika_bandit

[walker2@esc_fabrika_bandit]
path_walk = day_walk2
path_look = day_look2


[logic@esc_fabrika_bandit_walker3]
active = walker3@esc_fabrika_bandit

[walker3@esc_fabrika_bandit]
path_walk = day_walk3
path_look = day_look3
def_state_moving = raid
def_state_moving_fire = raid_fire
def_state_campering = threat
def_state_campering_fire = threat_fire

[logic@esc_fabrika_bandit_walker4]
active = walker4@esc_fabrika_bandit

[walker4@esc_fabrika_bandit]
path_walk = day_walk4
path_look = day_look4


[logic@esc_fabrika_bandit_kamp]
active = kamp@esc_fabrika_bandit

[kamp@esc_fabrika_bandit]
center_point = camp_center


[camper@esc_fabrika_bandit_walker1]
active = camper1@esc_fabrika_bandit

[camper1@esc_fabrika_bandit]
path_walk = day_alarm_walk1
path_look = day_alarm_look1
def_state_moving = raid
def_state_moving_fire = raid_fire
def_state_campering = threat
def_state_campering_fire = threat_fire

[camper@esc_fabrika_bandit_walker2]
active = camper2@esc_fabrika_bandit

[camper2@esc_fabrika_bandit]
path_walk = day_alarm_walk2
path_look = day_alarm_look2


[camper@esc_fabrika_bandit_walker3]
active = camper3@esc_fabrika_bandit

[camper3@esc_fabrika_bandit]
path_walk = day_alarm_walk3
path_look = day_alarm_look3
def_state_moving = raid
def_state_moving_fire = raid_fire
def_state_campering = threat
def_state_campering_fire = threat_fire

[camper@esc_fabrika_bandit_walker4]
active = camper4@esc_fabrika_bandit

[camper4@esc_fabrika_bandit]
path_walk = day_alarm_walk4
path_look = day_alarm_look4


[camper@esc_fabrika_bandit_walker5]
active = camper5@esc_fabrika_bandit

[camper5@esc_fabrika_bandit]
path_walk = day_alarm_walk5
path_look = day_alarm_look5


[camper@esc_fabrika_bandit_walker6]
active = camper6@esc_fabrika_bandit

[camper6@esc_fabrika_bandit]
path_walk = day_alarm_walk6
path_look = day_alarm_look6