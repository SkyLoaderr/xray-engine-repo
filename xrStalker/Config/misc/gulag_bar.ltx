;*****************************************************************
; Bar visitor
;*****************************************************************
[logic@bar_visitors_kamp1]
active = kamp@bar_visitors_kamp1

[kamp@bar_visitors_kamp1]
center_point = kamp_1


[logic@bar_visitors_kamp2]
active = kamp@bar_visitors_kamp2

[kamp@bar_visitors_kamp2]
center_point = kamp_2


[logic@bar_visitors_kamp3]
active = kamp@bar_visitors_kamp3

[kamp@bar_visitors_kamp3]
center_point = kamp_3


[logic@bar_visitors_kamp4]
active = kamp@bar_visitors_kamp4

[kamp@bar_visitors_kamp4]
center_point = kamp_4

[logic@bar_visitors_walker]
active = walker@bar_visitors_walker

[walker@bar_visitors_walker]
path_walk = walker_walk
meet = meet@bar_visitors_walker

[meet@bar_visitors_walker]
meet_state 		= 3| guard@talk_hello
meet_state_wpn 	= 3| guard@talk_hello
victim 			= 3| actor
victim_wpn 		= 3| actor
use = true
use_wpn = true


[logic@bar_visitors_arena_1]
active = walker@@bar_visitors_arena_1

[walker@@bar_visitors_arena_1]
path_walk = arena_walk_1
path_look = arena_look_1

[logic@bar_visitors_arena_2]
active = walker@@bar_visitors_arena_2

[walker@@bar_visitors_arena_2]
path_walk = arena_walk_2
path_look = arena_look_2

[logic@bar_visitors_arena_3]
active = walker@@bar_visitors_arena_3

[walker@@bar_visitors_arena_3]
path_walk = arena_walk_3
path_look = arena_look_3

[logic@bar_visitors_arena_4]
active = walker@@bar_visitors_arena_4

[walker@@bar_visitors_arena_4]
path_walk = arena_walk_4
path_look = arena_look_4

[logic@bar_visitors_arena_5]
active = walker@@bar_visitors_arena_5

[walker@@bar_visitors_arena_5]
path_walk = arena_walk_5
path_look = arena_look_5

[logic@bar_visitors_arena_6]
active = walker@@bar_visitors_arena_6

[walker@@bar_visitors_arena_6]
path_walk = arena_walk_6
path_look = arena_look_6

[logic@bar_visitors_arena_7]
active = walker@@bar_visitors_arena_7

[walker@@bar_visitors_arena_7]
path_walk = arena_walk_7
path_look = arena_look_7

[logic@bar_visitors_arena_8]
active = walker@@bar_visitors_arena_8

[walker@@bar_visitors_arena_8]
path_walk = arena_walk_8
path_look = arena_look_8


; пост перед входом во двор "долга"

[actor_dialogs]
id = bar_dolg_base_guard_acces

[logic1@bar_dolg_general_guard_left]
active = walker@bar_dolg_general_guard_left
actor_dialogs = actor_dialogs

[walker@bar_dolg_general_guard_left]
path_walk = guard_left_walk
path_look = guard_left_look
;meet = meet@bar_dolg_general_guard

[logic2@bar_dolg_general_guard_right]
active = walker@bar_dolg_general_guard_right
actor_dialogs = actor_dialogs

[walker@bar_dolg_general_guard_right]
path_walk = guard_right_walk
path_look = guard_right_look
;meet = meet@bar_dolg_general_guard

[logic3@bar_dolg_general_guard_center]
active = walker@bar_dolg_general_guard_center
actor_dialogs = actor_dialogs

[walker@bar_dolg_general_guard_center]
path_walk = guard_center_walk
path_look = guard_center_look
meet = meet@bar_dolg_general_guard

[meet@bar_dolg_general_guard]
meet_dialog = bar_dolg_base_guard_start
use = true
use_wpn = true
victim 			= 15| actor
victim_wpn 		= 15| actor
zone = bar_dolg_general_warn_zone|{-bar_dolg_base_pass}threat@bar_dolg_guard_stop,{+bar_dolg_base_pass}guard@talk_hello

;{+bar_dolg_base_pass}guard,threat@{+bar_dolg_base_pass}state,threat_stop
;|bar_dolg_general_guard_zone|{+bar_dolg_base_pass}guard,threat@{+bar_dolg_base_pass}state,threat_stop|bar_dolg_general_kill_zone|{-bar_dolg_base_pass}true

[logic4@bar_dolg_general_kamp]
active = kamp1@bar_dolg_general_kamp

[kamp1@bar_dolg_general_kamp]
center_point = kamp_center


[logic5@bar_dolg_general_patrol1]
active = walker4@bar_dolg_general_patrol1

[walker4@bar_dolg_general_patrol1]
path_walk = patrol_1_walk
path_look = patrol_1_look

[logic6@bar_dolg_general_patrol2]
active = walker5@bar_dolg_general_patrol2

[walker5@bar_dolg_general_patrol2]
path_walk = patrol_2_walk
path_look = patrol_2_look


[logic6@bar_dolg_general_camper]
active = walker1@bar_dolg_general_camper

[walker1@bar_dolg_general_camper]
path_walk = camper_1_walk
path_look = camper_1_look
def_state_moving = assault
def_state_moving_fire = assault_fire
def_state_campering = hide
def_state_campering_fire = hide_fire


[logic7@bar_dolg_general_camper]
active = walker2@bar_dolg_general_camper

[walker2@bar_dolg_general_camper]
path_walk = camper_2_walk
path_look = camper_2_look
def_state_moving = assault
def_state_moving_fire = assault_fire
def_state_campering = hide
def_state_campering_fire = hide_fire


[logic8@bar_dolg_general_camper]
active = walker3@bar_dolg_general_camper

[walker3@bar_dolg_general_camper]
path_walk = camper_3_walk
path_look = camper_3_look
def_state_moving = assault
def_state_moving_fire = assault_fire
def_state_campering = hide
def_state_campering_fire = hide_fire


[logic9@bar_dolg_general_camper]
active = walker4@bar_dolg_general_camper

[walker4@bar_dolg_general_camper]
path_walk = camper_4_walk
path_look = camper_4_look
def_state_moving = assault
def_state_moving_fire = assault_fire
def_state_campering = hide
def_state_campering_fire = hide_fire


[logic10@bar_dolg_general_camper]
active = walker5@bar_dolg_general_camper

[walker5@bar_dolg_general_camper]
path_walk = camper_5_walk
path_look = camper_5_look
def_state_moving = assault
def_state_moving_fire = assault_fire
def_state_campering = hide
def_state_campering_fire = hide_fire


; ВЕТЕРАНЫ ДОЛГА

[logic1@bar_dolg_veterans_guard_bunker1]
active = walker@bar_dolg_veterans_guard_bunker
actor_dialogs = actor_dialogs

[walker@bar_dolg_veterans_guard_bunker]
path_walk = guard_bunker_1_walk
path_look = guard_bunker_1_look
meet = meet@bar_dolg_veterans_guard_bunker

[meet@bar_dolg_veterans_guard_bunker]
;meet_state = 5|{-bar_dolg_community_leader}threat@threat_stop,{+bar_dolg_community_leader}guard@talk_hello
meet_dialog = bar_dolg_guard_bunker_start 
use = true
use_wpn = true
victim 			= 7| actor
victim_wpn 		= 7| actor
zone = bar_dolg_veterans_bunker_warn_zone|{-bar_dolg_community_leader}threat@bar_dolg_guard_stop,{+bar_dolg_community_leader}guard@talk_hello
;zones = bar_dolg_veterans_bunker_warn_zone|{+bar_dolg_community_leader}guard,threat@{+bar_dolg_community_leader}state,threat_stop|bar_dolg_veterans_bunker_kill_zone|{-bar_dolg_community_leader}true
; прописать фразу   <Стой! В бункер тебе нельзя!> 


[logic2@bar_dolg_veterans_guard_bunker2]
active = walker2@bar_dolg_veterans_guard_bunker
actor_dialogs = actor_dialogs

[walker2@bar_dolg_veterans_guard_bunker]
path_walk = guard_bunker_2_walk
path_look = guard_bunker_2_look
;meet = meet@bar_dolg_veterans_guard_bunker


[logic7@bar_dolg_veterans_bunker]
active = walker1@bar_dolg_veterans_bunker

[walker1@bar_dolg_veterans_bunker]
path_walk = guard_bunker
path_look = look_bunker


[logic3@bar_dolg_veterans_gates1]
active = walker2@bar_dolg_veterans_gates1

[walker2@bar_dolg_veterans_gates1]
path_walk = guard_gates_walk1
path_look = guard_gates_look1


[logic4@bar_dolg_veterans_gates2]
active = walker3@bar_dolg_veterans_gates2

[walker3@bar_dolg_veterans_gates2]
path_walk = guard_gates_walk2
path_look = guard_gates_look2


[logic5@bar_dolg_veterans_gates_alarm1]
active = walker6@bar_dolg_veterans_gates_alarm1

[walker6@bar_dolg_veterans_gates_alarm1]
path_walk = guard_gates_walk1
path_look = guard1_alarm


[logic6@bar_dolg_veterans_gates_alarm2]
active = walker7@bar_dolg_veterans_gates_alarm2

[walker7@bar_dolg_veterans_gates_alarm2]
path_walk = guard_gates_walk2
path_look = guard2_alarm


[logic8@bar_dolg_veterans_bunker_camper]
active = walker1@bar_dolg_veterans_bunker_camper

[walker1@bar_dolg_veterans_bunker_camper]
path_walk = guard_bunker
path_look = camper_look1




; БУНКЕР ДОЛГА

[logic2@bar_dolg_bunker]
active = walker2@bar_dolg_bunker

[walker2@bar_dolg_bunker]
path_walk = guard_2_walk
path_look = guard_2_look
meet = meet@bar_dolg_bunker


[logic3@bar_dolg_bunker]
active = walker3@bar_dolg_bunker

[walker3@bar_dolg_bunker]
path_walk = rest_2_walk
path_look = rest_2_look


[logic4@bar_dolg_bunker]
active = walker4@bar_dolg_bunker

[walker4@bar_dolg_bunker]
path_walk = rest_1_walk
path_look = rest_1_look


[logic5@bar_dolg_bunker]
active = sleeper1@bar_dolg_bunker

[sleeper1@bar_dolg_bunker]
path_main = sleeper_1

[meet@bar_dolg_bunker]
use = true
use_wpn = true
victim 			= 10| actor
victim_wpn 		= 10| actor
meet_state 		= 5|guard@talk_hello
meet_state_wpn 	= 10|guard@threat_weap|7|threat@threat_weap|5|threat@threat_weap




; Застава 1

[logic@bar_dolg_zastava1_cammander_1]
active = walker1@bar_dolg_zastava1_cammander_1

[walker1@bar_dolg_zastava1_cammander_1]
path_walk = commander_1_walk
path_look = commander_1_look
meet = meet@bar_dolg_zastava_comander1

[logic@bar_dolg_zastava1_walker1]
active = walker1@bar_dolg_zastava1_walker1

[walker1@bar_dolg_zastava1_walker1]
path_walk = guard_1_walk
path_look = guard_1_look
meet = meet@bar_dolg_zastava1

[logic@bar_dolg_zastava1_walker2]
active = walker2@bar_dolg_zastava1_walker2

[walker2@bar_dolg_zastava1_walker2]
path_walk = guard_2_walk
path_look = guard_2_look
meet = meet@bar_dolg_zastava1

[logic@bar_dolg_zastava1_walker3]
active = walker3@bar_dolg_zastava1_walker3

[walker3@bar_dolg_zastava1_walker3]
path_walk = guard_3_walk
;path_look = guard_3_look
meet = meet@bar_dolg_zastava1

[meet@bar_dolg_zastava1]
meet_state 		= 20| guard@talk_hello
meet_state_wpn 	= 20| guard@talk_hello| 15| threat@threat_weap
victim 			= 20| actor
victim_wpn 		= 20| actor
use = true
use_wpn = true
meet_dialog = bar_dolg_zastava

[meet@bar_dolg_zastava_comander1]
meet_state 		= 10| guard@talk_hello
meet_state_wpn 	= 10| guard@talk_hello| 7| threat@threat_weap
victim 			= 10| actor
victim_wpn 		= 10| actor
use = true
use_wpn = false

; Застава 2

[logic@bar_dolg_zastava2_walker1]
active = walker@bar_dolg_zastava2_walker1

[walker@bar_dolg_zastava2_walker1]
path_walk = square_1_place_4_walk
path_look = square_1_place_1_look
meet = meet@bar_dolg_zastava2

[logic@bar_dolg_zastava2_walker2]
active = walker@bar_dolg_zastava2_walker2

[walker@bar_dolg_zastava2_walker2]
path_walk = square_1_place_6_walk
path_look = square_1_place_6_look
meet = meet@bar_dolg_zastava2

[logic@bar_dolg_zastava2_walker3]
active = walker@bar_dolg_zastava2_walker3

[walker@bar_dolg_zastava2_walker3]
path_walk = square_1_place_2_walk
path_look = square_1_place_1_look
meet = meet@bar_dolg_zastava2

[meet@bar_dolg_zastava2]
meet_state 		= 50| guard@talk_hello
meet_state_wpn 	= 50| guard@talk_hello| 20| threat@threat_weap
victim 			= 20| actor
victim_wpn 		= 20| actor
use = true
use_wpn = true
meet_dialog = bar_dolg_zastava


; НЕХОРОШИЕ СТАЛКЕРЫ ВЕТЕРАНЫ

[logic@bar_evil_veterans_walker1]
active = walker@bar_evil_veterans_walker1

[walker@bar_evil_veterans_walker1]
path_walk = guard_1_walk
path_look = guard_1_look


[logic@bar_evil_veterans_walker2]
active = walker@bar_evil_veterans_walker2

[walker@bar_evil_veterans_walker2]
path_walk = guard_2_walk
path_look = guard_2_look


[logic@bar_evil_veterans_walker3]
active = walker@bar_evil_veterans_walker3

[walker@bar_evil_veterans_walker3]
path_walk = guard_3_walk


[logic@bar_evil_veterans_camper4]
active = walker@bar_evil_veterans_camper4

[walker@bar_evil_veterans_camper4]
path_walk = guard_4_walk_alarm
path_look = guard_4_look_alarm
radius = 5

[logic@bar_evil_veterans_camper1]
active = camper@bar_evil_veterans_camper1

[camper@bar_evil_veterans_camper1]
path_walk = leader_walk
path_look = leader_look
radius = 4


[logic@bar_evil_veterans_kamp1]
active = kamp@bar_evil_veterans_kamp1

[kamp@bar_evil_veterans_kamp1]
center_point = sit_point1


[logic@bar_evil_veterans_kamp2]
active = kamp@bar_evil_veterans_kamp2

[kamp@bar_evil_veterans_kamp2]
center_point = sit_point1


[logic@bar_evil_veterans_kamp3]
active = kamp@bar_evil_veterans_kamp3

[kamp@bar_evil_veterans_kamp3]
center_point = sit_point1


[logic@bar_evil_veterans_kamp4]
active = kamp@bar_evil_veterans_kamp4

[kamp@bar_evil_veterans_kamp4]
center_point = sit_point1



[logic@bar_evil_veterans_alarm1]
active = camper2@bar_evil_veterans_alarm1

[camper2@bar_evil_veterans_alarm1]
path_walk = alarm_1_walk
path_look = alarm_1_look
radius = 5


[logic@bar_evil_veterans_alarm2]
active = camper3@bar_evil_veterans_alarm2

[camper3@bar_evil_veterans_alarm2]
path_walk = alarm_2_walk
path_look = alarm_2_look
radius = 5


[logic@bar_evil_veterans_alarm3]
active = camper5@bar_evil_veterans_alarm3

[camper5@bar_evil_veterans_alarm3]
path_walk = alarm_3_walk
path_look = alarm_3_look
radius = 5


;*******************************************************************
; Свобода, атакующая ученых
;*******************************************************************
[helihunter@bar_freedom_attack]
dist = 100

[meet@freedom_attacker]
meet_state = 2|hide
meet_state_wpn = 2|hide
victim = actor
victim_wpn = actor
use = true
use_wpn = true
meet_dialog = bar_svoboda_dialog

[meet@freedom_volkodav]
meet_state = 30|hello@hail|15|ward@wait
meet_state_wpn = 30|hello@hail|15|ward@wait
victim = 30|actor
victim_wpn = 30|actor
use = true
use_wpn = true
synpairs = hello@hail
			
			
[death@bar_freedom_attack_commander]
on_info = %+bar_kill_professor_volkodav_dead +bar_heli_scene_volkodav_die%

[logic@bar_freedom_attack_sniper_1]
active = camper@bar_freedom_attack_sniper_1
heli_hunter = helihunter@bar_freedom_attack

[camper@bar_freedom_attack_sniper_1]
path_walk = camper_1_walk
path_look = camper_1_look
def_state_moving = assault
heli_hunter = {-bar_ecolog_crush_heli_down} true, false
meet = meet@freedom_attacker

[logic@bar_freedom_attack_sniper_c1]
active = camper1@bar_freedom_attack_sniper_1

[camper1@bar_freedom_attack_sniper_1]
path_walk = acamper_1_walk
path_look = acamper_1_look
def_state_moving = assault

radius = 5
no_retreat = true

[logic@bar_freedom_attack_sniper_2]
active = camper@bar_freedom_attack_sniper_2

[camper@bar_freedom_attack_sniper_2]
path_walk = camper_2_walk
path_look = camper_2_look
def_state_moving = assault
meet = meet@freedom_attacker

[logic@bar_freedom_attack_sniper_c2]
active = camper1@bar_freedom_attack_sniper_2

[camper1@bar_freedom_attack_sniper_2]
path_walk = acamper_2_walk
path_look = acamper_2_look
def_state_moving = assault

radius = 5
no_retreat = true

[logic@bar_freedom_attack_sniper_3]
active = camper1@bar_freedom_attack_sniper_3 
heli_hunter = helihunter@bar_freedom_attack

[camper@bar_freedom_attack_sniper_3]
path_walk = camper_3_walk
path_look = camper_3_look
def_state_moving = assault
meet = meet@freedom_attacker
heli_hunter = {-bar_ecolog_crush_heli_down} true, false

[logic@bar_freedom_attack_sniper_c3]
active = camper1@bar_freedom_attack_sniper_3

[camper1@bar_freedom_attack_sniper_3]
path_walk = acamper_3_walk
path_look = acamper_3_look
def_state_moving = assault

radius = 5
no_retreat = true

[logic@bar_freedom_attack_sniper_4]
active = camper@bar_freedom_attack_sniper_4

[camper@bar_freedom_attack_sniper_4]
path_walk = camper_4_walk
path_look = camper_4_look
def_state_moving = assault
meet = meet@freedom_attacker

[logic@bar_freedom_attack_sniper_c4]
active = camper1@bar_freedom_attack_sniper_4

[camper1@bar_freedom_attack_sniper_4]
path_walk = acamper_4_walk
path_look = acamper_4_look
def_state_moving = assault

radius = 5
no_retreat = true


[logic@bar_freedom_attack_guard_1]
active = camper@bar_freedom_attack_guard_1

[camper@bar_freedom_attack_guard_1]
path_walk = guard_1_walk
path_look = guard_1_look
def_state_moving = assault
meet = meet@freedom_attacker

[logic@bar_freedom_attack_guard_c1]
active = camper1@bar_freedom_attack_guard_1

[camper1@bar_freedom_attack_guard_1]
path_walk = aguard_1_walk
path_look = aguard_1_look
def_state_moving = assault

radius = 5
no_retreat = true

[logic@bar_freedom_attack_guard_2]
active = camper@bar_freedom_attack_guard_2
heli_hunter = helihunter@bar_freedom_attack

[camper@bar_freedom_attack_guard_2]
path_walk = guard_2_walk
path_look = guard_2_look
def_state_moving = assault
meet = meet@freedom_attacker
heli_hunter = {-bar_ecolog_crush_heli_down} true, false

[logic@bar_freedom_attack_guard_c2]
active = camper1@bar_freedom_attack_guard_2

[camper1@bar_freedom_attack_guard_2]
path_walk = aguard_2_walk
path_look = aguard_2_look
def_state_moving = assault
on_info = {-bar_kill_professor_start +bar_freedom_attack_ecolog} %=bar_freedom_angry_actor%
radius = 5
no_retreat = true

[logic@bar_freedom_attack_commander]
active = camper@bar_freedom_attack_commander
on_death = death@bar_freedom_attack_commander

[camper@bar_freedom_attack_commander]
path_walk = commandir_walk
path_look = commandir_look
def_state_moving = assault
meet = meet@freedom_volkodav
on_info = {-bar_freedom_talk_end +bar_freedom_talk_v1} remark@volkodav_talk_1

[remark@volkodav_talk_1]
snd = talk_hello
on_signal = sound_end | %+bar_freedom_talk_c1%
sound_end = nil
no_move = true
no_rotate = true
combat_ignore_cond = always
on_info = {+bar_freedom_talk_v2} remark@volkodav_talk_2

[remark@volkodav_talk_2]
snd = talk_bye
on_signal = sound_end | %+bar_freedom_talk_c2%
sound_end = nil
no_move = true
no_rotate = true
combat_ignore_cond = always
on_info = {+bar_freedom_talk_end} camper@bar_freedom_attack_commander

[logic@bar_freedom_attack_camper_6]
active = camper@bar_freedom_attack_camper_6

[camper@bar_freedom_attack_camper_6]
path_walk = camper_6_walk
path_look = camper_6_look
def_state_moving = assault
radius = 5
on_info = {-bar_freedom_talk_end +bar_actor_heared_freedom_talk} remark@camper_talk


[remark@camper_talk]
snd = talk_hello
on_signal = sound_end | %+bar_freedom_talk_v1%
sound_end = nil
no_move = true
no_rotate = true
combat_ignore_cond = always
on_info = {+bar_freedom_talk_c1} remark@camper_talk_1
 
[remark@camper_talk_1]
snd = talk_hello_friend
on_signal = sound_end | %+bar_freedom_talk_v2%
sound_end = nil
no_move = true
no_rotate = true
combat_ignore_cond = always
on_info = {+bar_freedom_talk_c2} remark@camper_talk_2

[remark@camper_talk_2]
snd = talk_bye
on_signal = sound_end | %+bar_freedom_talk_end%
sound_end = nil
no_move = true
no_rotate = true
combat_ignore_cond = always
on_info = {+bar_freedom_talk_end} camper@bar_freedom_attack_camper_6


[logic@bar_freedom_attack_camper_5]
active = camper@bar_freedom_attack_camper_5

[camper@bar_freedom_attack_camper_5]
path_walk = camper_5_walk
path_look = camper_5_look
def_state_moving = assault
on_info = {-bar_kill_professor_start +bar_freedom_attack_ecolog} %=bar_freedom_angry_actor%

radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper6_c1]
active = camper@bar_freedom_attack_acamper_6

[camper@bar_freedom_attack_acamper_6]
path_walk = acamper_6_walk
path_look = acamper_6_look
def_state_moving = assault

radius = 5
no_retreat = true


[logic@bar_freedom_attack_chaser_1]
active = camper@bar_freedom_attack_chaser_1

[camper@bar_freedom_attack_chaser_1]
path_walk = chase_1_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_2]
active = camper@bar_freedom_attack_chaser_2

[camper@bar_freedom_attack_chaser_2]
path_walk = chase_2_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_3]
active = camper@bar_freedom_attack_chaser_3

[camper@bar_freedom_attack_chaser_3]
path_walk = chase_3_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_4]
active = camper@bar_freedom_attack_chaser_4

[camper@bar_freedom_attack_chaser_4]
path_walk = chase_4_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_5]
active = camper@bar_freedom_attack_chaser_5

[camper@bar_freedom_attack_chaser_5]
path_walk = chase_5_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_6]
active = camper@bar_freedom_attack_chaser_6

[camper@bar_freedom_attack_chaser_6]
path_walk = chase_6_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_7]
active = camper@bar_freedom_attack_chaser_7

[camper@bar_freedom_attack_chaser_7]
path_walk = chase_7_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_8]
active = camper@bar_freedom_attack_chaser_8

[camper@bar_freedom_attack_chaser_8]
path_walk = chase_8_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_chaser_9]
active = camper@bar_freedom_attack_chaser_9

[camper@bar_freedom_attack_chaser_9]
path_walk = chase_9_walk
path_look = chase_look
def_state_moving = assault
radius = 5
no_retreat = true





[logic@bar_freedom_attack_camper_1_relax]
active = camper@bar_freedom_attack_camper_1_relax

[camper@bar_freedom_attack_camper_1_relax]
path_walk = relax_1_walk
path_look = relax_1_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_2_relax]
active = camper@bar_freedom_attack_camper_2_relax

[camper@bar_freedom_attack_camper_2_relax]
path_walk = relax_2_walk
path_look = relax_2_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_3_relax]
active = camper@bar_freedom_attack_camper_3_relax

[camper@bar_freedom_attack_camper_3_relax]
path_walk = relax_3_walk
path_look = relax_3_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_4_relax]
active = camper@bar_freedom_attack_camper_4_relax

[camper@bar_freedom_attack_camper_4_relax]
path_walk = relax_4_walk
path_look = relax_4_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_5_relax]
active = camper@bar_freedom_attack_camper_5_relax

[camper@bar_freedom_attack_camper_5_relax]
path_walk = relax_5_walk
path_look = relax_5_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_6_relax]
active = camper@bar_freedom_attack_camper_6_relax

[camper@bar_freedom_attack_camper_6_relax]
path_walk = relax_6_walk
path_look = relax_6_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_8_relax]
active = camper@bar_freedom_attack_camper_8_relax

[camper@bar_freedom_attack_camper_8_relax]
path_walk = relax_8_walk
path_look = relax_8_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_camper_7_relax]
active = camper@bar_freedom_attack_camper_7_relax

[camper@bar_freedom_attack_camper_7_relax]
path_walk = relax_7_walk
path_look = relax_7_look
def_state_moving = assault
radius = 5
no_retreat = true

[logic@bar_freedom_attack_commander_relax]
active = camper@bar_freedom_attack_commander_relax
on_death = death@bar_freedom_attack_commander

[camper@bar_freedom_attack_commander_relax]
path_walk = relax_volkodav_walk
path_look = relax_volkodav_look
def_state_moving = assault
meet = meet@freedom_volkodav
radius = 5
no_retreat = true

;*******************************************************************
; Ученные
;*******************************************************************
[hit@ecolog_crush]
on_info = {=hit_by_actor -bar_freedom_attack_ecolog} %+bar_freedom_attack_ecolog%


[meet@ecolog_crush]
meet_state = 2|hide
meet_state_wpn = 2|hide
victim = actor
victim_wpn = actor
use = true
use_wpn = true
meet_dialog = bar_ecolog_dialog

[meet@ecolog_kruglov]
meet_state = 30|hello@hail|15|guard@wait
meet_state_wpn = 30|hello@hail|15|guard@wait
victim = 5|actor
victim_wpn = 5|actor
use = true
use_wpn = true
synpairs = hello@hail


[logic@bar_ecolog_crush_sniper_1]
active = camper@bar_ecolog_crush_sniper_1
on_hit = hit@ecolog_crush

[camper@bar_ecolog_crush_sniper_1]
path_walk = sniper_1_walk
path_look = sniper_1_look
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_start} walker@bar_ecolog_crush_sniper_chase_1
meet_dialog = meet@ecolog_crush

[logic@bar_ecolog_crush_sniper_2]
active = camper@bar_ecolog_crush_sniper_2
on_hit = hit@ecolog_crush

[camper@bar_ecolog_crush_sniper_2]
path_walk = sniper_2_walk
path_look = sniper_2_look
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_start} walker@bar_ecolog_crush_sniper_chase_2
meet_dialog = meet@ecolog_crush

[logic@bar_ecolog_crush_sniper_3]
active = camper@bar_ecolog_crush_sniper_3
on_hit = hit@ecolog_crush

[camper@bar_ecolog_crush_sniper_3]
path_walk = sniper_3_walk
path_look = sniper_3_look
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_start} walker@bar_ecolog_crush_sniper_chase_3
meet_dialog = meet@ecolog_crush

[logic@bar_ecolog_crush_sniper_4]
active = camper@bar_ecolog_crush_sniper_4
on_hit = hit@ecolog_crush

[camper@bar_ecolog_crush_sniper_4]
path_walk = sniper_4_walk
path_look = sniper_4_look
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_start} walker@bar_ecolog_crush_sniper_chase_4
meet_dialog = meet@ecolog_crush

[logic@bar_ecolog_crush_sniper_5]
active = camper@bar_ecolog_crush_sniper_5
on_hit = hit@ecolog_crush

[camper@bar_ecolog_crush_sniper_5]
path_walk = sniper_5_walk
path_look = sniper_5_look
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_start} walker@bar_ecolog_crush_sniper_chase_5
meet_dialog = meet@ecolog_crush

[logic@bar_ecolog_crush_sniper_6]
active = camper@bar_ecolog_crush_sniper_6
on_hit = hit@ecolog_crush

[camper@bar_ecolog_crush_sniper_6]
path_walk = sniper_6_walk
path_look = sniper_6_look
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_start} walker@bar_ecolog_crush_sniper_chase_6
meet_dialog = meet@ecolog_crush

; chasing

[walker@bar_ecolog_crush_sniper_chase_1]
path_walk = chase_1_walk
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_end} camper@bar_ecolog_crush_sniper_1
meet_dialog = meet@ecolog_crush

[walker@bar_ecolog_crush_sniper_chase_2]
path_walk = chase_2_walk
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_end} camper@bar_ecolog_crush_sniper_2
meet_dialog = meet@ecolog_crush

[walker@bar_ecolog_crush_sniper_chase_3]
path_walk = chase_3_walk
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_end} camper@bar_ecolog_crush_sniper_3
meet_dialog = meet@ecolog_crush

[walker@bar_ecolog_crush_sniper_chase_4]
path_walk = chase_4_walk
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_end} camper@bar_ecolog_crush_sniper_4
meet_dialog = meet@ecolog_crush

[walker@bar_ecolog_crush_sniper_chase_5]
path_walk = chase_5_walk
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_end} camper@bar_ecolog_crush_sniper_5
meet_dialog = meet@ecolog_crush

[walker@bar_ecolog_crush_sniper_chase_6]
path_walk = chase_6_walk
def_state_moving = assault
on_info = {+bar_rescue_research_chasing_end} camper@bar_ecolog_crush_sniper_6
meet_dialog = meet@ecolog_crush

;KRUGLOV
[hit@ecolog_professor]
on_info = %=bar_ecolog_hit%

[logic@bar_ecolog_professor]
active = camper@bar_ecolog_professor
on_hit = hit@ecolog_crush
on_death = death@ecolog_crush
combat_ignore = combat_ignore

[camper@bar_ecolog_professor]
path_walk = professor_walk
path_look = professor_look
def_state_moving = assault
meet = meet@ecolog_kruglov
on_info = {+bar_actor_helps_kruglov} walker@bar_ecolog_professor_companion

[walker@bar_ecolog_professor_companion]
path_walk = escape_1_walk
path_look = escape_hide_1_look
on_signal = freedom_chase | %+bar_rescue_research_chasing_start%
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}
on_hit = hit@ecolog_professor
on_info = {+bar_rescue_research_chasing_start} camper@bar_rescue_research_hide_1 %=bar_freedom_spam_5%

[camper@bar_rescue_research_hide_1]
path_walk = escape_hide_1_walk
path_look = escape_hide_1_look
def_state_moving = assault
on_signal = ecolog_chase |%+bar_ecolog_see_chase% 
meet = meet@ecolog_kruglov
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}
on_hit = hit@ecolog_professor
on_info = {+bar_rescue_research_chasing_end} walker@bar_ecolog_professor_companoin_1
on_info2 = {+bar_ecolog_see_chase -bar_ecolog_saw_chase} %=bar_ecolog_spam_5 +bar_ecolog_saw_chase%

[walker@bar_ecolog_professor_companoin_1]
path_walk = escape_2_walk
on_hit = hit@ecolog_professor
on_signal = bandits_alive | camper@bar_rescue_research_hide_2 %+bar_bandits_alive%
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}

[camper@bar_rescue_research_hide_2]
path_walk = escape_hide_2_walk
path_look = escape_hide_2_look
meet = meet@ecolog_kruglov
on_hit = hit@ecolog_professor
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}
on_info = {+bar_bandits_dead} walker@bar_ecolog_professor_companoin_2

[walker@bar_ecolog_professor_companoin_2]
path_walk = escape_3_walk
on_hit = hit@ecolog_professor
on_signal = fire_anomaly | %+bar_fire_anomaly_forward%
on_info = {+bar_fire_anomaly_forward} camper@bar_rescue_research_hide_3

[camper@bar_rescue_research_hide_3]
path_walk = escape_stay
path_look = escape_look
meet = meet@ecolog_kruglov
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}
on_hit = hit@ecolog_professor
on_info = {+bar_go_through_anomaly} walker@bar_ecolog_professor_companoin_3

[walker@bar_ecolog_professor_companoin_3]
path_walk = escape_4_walk
path_look = escape_4_look
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}
on_hit = hit@ecolog_professor
on_signal = arrived |camper@bar_rescue_research_hide_4 %+bar_rescue_research_done%

[camper@bar_rescue_research_hide_4]
path_walk = end_walk
path_look = end_look
meet = meet@ecolog_kruglov
combat_ignore_cond = {+bar_rescue_research_start -bar_rescue_research_done}

[death@ecolog_crush]
on_info = {=killed_by_actor +bar_kill_professor_start} %+bar_rescue_research_dead +bar_kill_professor_done +bar_rescue_research_corruped +bar_heli_scene_professor_die%, {+bar_kill_professor_start} %+bar_rescue_research_dead +bar_kill_professor_fail +bar_rescue_research_corruped +bar_heli_scene_professor_die%, %+bar_rescue_research_dead +bar_rescue_research_corruped +bar_heli_scene_professor_die%
on_info2 = {+bar_rescue_research_start} %+bar_rescue_research_fail +bar_heli_scene_professor_die%, %+bar_heli_scene_professor_die%



;*******************************************************************
; Засада боевиков Наемников на стройке
;*******************************************************************

[logic@bar_svoboda_ambush_sniper_1]
active = camper@bar_svoboda_ambush_sniper_1

[camper@bar_svoboda_ambush_sniper_1]
path_walk = 1_walk
path_look = 1_look
sniper = true

[logic@bar_svoboda_ambush_sniper_2]
active = camper@bar_svoboda_ambush_sniper_2

[camper@bar_svoboda_ambush_sniper_2]
path_walk = 2_walk
path_look = 2_look

[logic@bar_svoboda_ambush_sniper_3]
active = camper@bar_svoboda_ambush_sniper_3

[camper@bar_svoboda_ambush_sniper_3]
path_walk = 3_walk
path_look = 3_look

[logic@bar_svoboda_ambush_sniper_4]
active = camper@bar_svoboda_ambush_sniper_4

[camper@bar_svoboda_ambush_sniper_4]
path_walk = 4_walk
path_look = 4_look

[logic@bar_svoboda_ambush_sniper_5]
active = camper@bar_svoboda_ambush_sniper_5

[camper@bar_svoboda_ambush_sniper_5]
path_walk = 5_walk
path_look = 5_look

[logic@bar_svoboda_ambush_sniper_6]
active = camper@bar_svoboda_ambush_sniper_6

[camper@bar_svoboda_ambush_sniper_6]
path_walk = 6_walk
path_look = 6_look
sniper = true

[logic@bar_svoboda_ambush_sniper_7]
active = camper@bar_svoboda_ambush_sniper_7

[camper@bar_svoboda_ambush_sniper_7]
path_walk = 7_walk
path_look = 7_look


;*****************************************************************
; MONSTERS
;*****************************************************************
[logic@bar_roaming_dogs]
active = nil

;*****************************************************************
;FLESHES
;*****************************************************************
[logic@rostok_flesh_angar]
active = nil

;*****************************************************************
;DOGS ON EXIT
;*****************************************************************
[logic@rostok_dogs_on_exit]
active = nil

;*****************************************************************
; ARENA MONSTR
;*****************************************************************
[logic@bar_arena_monstr_pseudodog_none]
active = nil
on_death = mob_death@bar_arena_monstr_pseudodog

[logic@bar_arena_monstr_pseudodog]
active = mob_walker@bar_arena_monstr_pseudodog
on_death = mob_death@bar_arena_monstr_pseudodog

[mob_walker@bar_arena_monstr_pseudodog]
braindead = true
path_walk = walk
path_look = look
on_signal = arrived | nil %+bar_arena_monstr_ready =bar_arena_hit%

[mob_death@bar_arena_monstr_pseudodog]
on_info = %+bar_arena_pseudodog_defeated +bar_arena_monstr_dead%


[logic@bar_arena_monstr_snork_none]
active = nil
on_death = mob_death@bar_arena_monstr_snork

[logic@bar_arena_monstr_snork]
active = mob_walker@bar_arena_monstr_snork
on_death = mob_death@bar_arena_monstr_snork

[mob_walker@bar_arena_monstr_snork]
braindead = true
path_walk = walk
path_look = look
on_signal = arrived | nil %+bar_arena_monstr_ready =bar_arena_hit%

[mob_death@bar_arena_monstr_snork]
on_info = %+bar_arena_snork_defeated +bar_arena_monstr_dead%


[logic@bar_arena_monstr_bloodsucker_none]
active = nil
on_death = mob_death@bar_arena_monstr_bloodsucker

[logic@bar_arena_monstr_bloodsucker]
active = mob_walker@bar_arena_monstr_bloodsucker
on_death = mob_death@bar_arena_monstr_bloodsucker

[mob_walker@bar_arena_monstr_bloodsucker]
braindead = true
path_walk = walk
path_look = look
on_signal = arrived | nil %+bar_arena_monstr_ready =bar_arena_hit%

[mob_death@bar_arena_monstr_bloodsucker]
on_info = %+bar_arena_bloodsucker_defeated +bar_arena_monstr_dead%


[logic@bar_arena_monstr_burer_none]
active = nil
on_death = mob_death@bar_arena_monstr_burer

[logic@bar_arena_monstr_burer]
active = mob_walker@bar_arena_monstr_burer
on_death = mob_death@bar_arena_monstr_burer

[mob_walker@bar_arena_monstr_burer]
braindead = true
path_walk = walk
path_look = look
on_signal = arrived | nil %+bar_arena_monstr_ready =bar_arena_hit%

[mob_death@bar_arena_monstr_burer]
on_info = %+bar_arena_burer_defeated +bar_arena_monstr_dead%


[logic@bar_arena_monstr_savage_none]
active = nil
on_death = death@bar_arena_monstr_savage

[logic@bar_arena_monstr_savage]
active = camper@bar_arena_monstr_savage
on_death = death@bar_arena_monstr_savage

[camper@bar_arena_monstr_savage]
path_walk = walk
path_look = look
on_signal = arrived | nil %+bar_arena_monstr_ready =bar_arena_hit%
danger = danger@bar_arena_monstr_savage

[danger@bar_arena_monstr_savage]
ignore_distance = 0
ignore_types = grenade, hit, corpse, sound

[death@bar_arena_monstr_savage]
on_info = %+bar_arena_savage_defeated +bar_arena_monstr_dead%		
		
		
		
;*****************************************************************
; ROSTOK TUNEL ENTER
;*****************************************************************		
[logic@rostok_tunel_tushkano]
active = nil
		

[logic@rostok_tunel_enter_snork]
active = mob_jump@rostok_tunel_enter_snork

[mob_jump@rostok_tunel_enter_snork]
path_home = path_home
path_look = path_look


[logic@rostok_tunel_deep_snork]
active = mob_jump@rostok_tunel_deep_snork

[mob_jump@rostok_tunel_deep_snork]
path_home = path_home
path_look = path_look
		