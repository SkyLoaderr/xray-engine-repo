[logic]
active = walker1
combat_ignore = combat_ignore

[walker1]
path_walk = val_escort_captive_walk
path_look = val_escort_captive_look
on_signal = flee | walker@flee %+val_escort_captive_fled%
on_info = {+val_escort_actor_helped} remark@after_fight
on_info2 = {+val_escort_guard1_combat} remark@wait, {+val_escort_guard2_combat} remark@wait, {+val_escort_guard3_combat} remark@wait
combat_ignore_cond = always

[remark@wait]
no_move = true
no_rotate = true
anim = wounded
;no_wpn = true
;no_danger = true
on_info = {+val_escort_actor_helped} remark@after_fight
on_info2 = {-val_escort_guard1_combat -val_escort_guard2_combat -val_escort_guard3_combat} walker1
combat_ignore_cond = always

[walker@flee]
no_move = true
no_rotate = true
no_wpn = true
no_danger = true
anim = wounded
reactions = ignore
path_walk = val_escort_captive_flee_walk
path_look = val_escort_captive_flee_look
combat_ignore_cond = always

[remark@after_fight]
no_move = false
no_wpn = true
no_danger = true
; FIXME
snd = gar_dm_newbie_thank_you
arrival_timeout = 20000
snd_timeout = 20000
reactions = ignore
on_signal = action_end | walker@leave %=actor_friend%

[walker@leave]
path_walk = val_escort_captive_leave_walk
path_look = val_escort_captive_leave_look
meet_dialog = val_escort_hello
meet_enabled = true
on_signal = arrived | nil %+val_escort_captive_offline%
