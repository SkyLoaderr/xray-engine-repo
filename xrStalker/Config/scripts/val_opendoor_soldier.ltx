[logic]
active = camper@start
on_death = death
on_hit = hit
combat_ignore = combat_ignore

[death]
on_info = %+val_escort_captive_dead%

[hit]
on_info = {=hit_by_actor} nil %+val_opendoor_plr_detected%

[combat_ignore]

[camper@start]
path_walk = val_opendoor_soldier_walk
path_look = val_opendoor_soldier_look
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
radius = 0
on_signal = fight | camper@fight
;combat_ignore_cond = always
combat_ignore_cond = {=fighting_actor -val_opendoor_plr_detected}

[camper@fight]
path_walk = val_opendoor_soldier_walk
path_look = val_opendoor_soldier_look
def_state_moving = assault
def_state_campering = threat
def_state_campering_fire = threat_fire
radius = 0
on_info = {=is_dead_one(410)} remark@talk
combat_ignore_cond = {=fighting_actor -val_opendoor_plr_detected}
;combat_ignore_cond = {=fighting_actor}

[remark@talk]
snd = speach
on_signal = sound_end | walker@leave
combat_ignore_cond = {=fighting_actor -val_opendoor_plr_detected}

[walker@leave]
path_walk = val_opendoor_soldier_leave_walk
path_look = val_opendoor_soldier_leave_look
combat_ignore_cond = {=fighting_actor -val_opendoor_plr_detected}
on_signal = arrived | nil
