function callback_enter(zone,object)
	printf			("[%6d] Object %s entered zone %s",device():time_global(),object:name(),zone:name())
end

function callback_exit(zone,object)
	printf			("[%6d] Object %s exited zone %s",device():time_global(),object:name(),zone:name())
end

function callback_static(object,action,index)
	printf			("[%6d] Object %s reached waypoint %d",device():time_global(),object:name(),index)
end

function main ()
    stalker				= get_level_object ("m_stalker_e0000")
    ak					= get_level_object ("wpn_ak0001")
    stalker:script		(true,stalker_test:script_name());
    
    wait				(1000)
    
    action				(
		stalker,
		move			(move.standing,move.walk,move.line,patrol("way0000")),
		object			(ak,object.fire1),
		cond			(cond.time_end,200000)
    )
    
    action				(
		stalker,
		move			(move.standing,move.walk,move.line,patrol("way0000")),
		object			(ak,object.activate),
		cond			(cond.time_end,2000)
    )
    
    action				(
		stalker,
		move			(move.standing,move.walk,move.line,patrol("way0000")),
		object			(ak,object.reload),
		cond			(cond.time_end,2000)
    )
    
    action				(
		stalker,
		move			(move.standing,move.walk,move.line,patrol("way0000")),
		object			(ak,object.deactivate),
		cond			(cond.time_end,2000)
    )
    
    while stalker:action() do
		wait			()
    end
    
    stalker:script		(false,stalker_test:script_name());
end