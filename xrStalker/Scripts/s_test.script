function main ()

    local stalker = get_level_object ("muzhik")
    stalker:script (true, s_test.script_name ())
    
    action (stalker, look (look.search), anim (anim.free), cond (cond.time_end, time_infinite))
    
    while true do
          for a = 0, 8, 1 do
              local dog = level.object ("m_dog_e000".. a)
              if dog and dog:alive () and stalker:see (dog) then
                 printf ("I'm see dog %s", dog:name ())
                 action_first (stalker, look( look.fire_point, dog), object( stalker:best_weapon (), object.fire1, 3 ),  
                               cond ( cond.time_end, 1000 ))
                 action_first (stalker, object( stalker:best_weapon (), object.activate), cond (cond.time_end, 300))
                 while stalker:action () do wait () end
              end
          end
          wait ()                     
    end
end