-----------------------------------------------------------------------
-- —ÓÒÚÓˇÌËˇ ·‡Á˚ ·‡Ì‰ËÚÓ‚
--    0 - ÌÓÏ‡Î¸ÌÓÂ ÒÓÒÚÓˇÌËÂ
--    2 - ÚÂ‚Ó„‡
-----------------------------------------------------------------------

local state_normal = 0
local state_alarm = 1
local state_alarm_actor_inside = 2

function load_job(sj, gname, type, squad, groups)
	if type == "val_lager_bandits" then
		return load_job_lager_bandits(sj, gname, type, squad, groups)
	elseif type == "val_monolith_base" then
		return load_job_monolith_base(sj, gname, type, squad, groups)
	elseif type == "val_dogs_nest1" then
		return load_job_dogs_nest1(sj, gname, type, squad, groups)
	elseif type == "val_dogs_nest2" then
		return load_job_dogs_nest2(sj, gname, type, squad, groups)
	elseif type == "val_fleshes_nest1" then
		return load_job_fleshes_nest1(sj, gname, type, squad, groups)
	elseif type == "val_fleshes_nest2" then
		return load_job_fleshes_nest2(sj, gname, type, squad, groups)
	elseif type == "val_boars_nest1" then
		return load_job_boars_nest1(sj, gname, type, squad, groups)
	elseif type == "val_boars_nest2" then
		return load_job_boars_nest2(sj, gname, type, squad, groups)
	end
	
	return
end

function load_job_lager_bandits(sj, gname, type, squad, groups)
	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 7 - ¡Œ–Œ¬
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_leader_normal",
		idle = 0,
		prior = 7, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_borov_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_borov"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_leader_alarm",
		idle = 0,
		prior = 7, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_borov_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_borov"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_leader_alarm",
		idle = 0,
		prior = 7, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_borov_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_borov"
		            end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 6 - Œ’–¿ÕÕ» » ¡Œ–Œ¬¿
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_bodyguard_normal1",
		idle = 0,
		prior = 6, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_alarm1",
		idle = 0,
		prior = 6, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_alarm1",
		idle = 0,
		prior = 6, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_normal2",
		idle = 0,
		prior = 6, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_bodyguards_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_alarm2",
		idle = 0,
		prior = 6, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_bodyguards_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_alarm2",
		idle = 0,
		prior = 6, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_bodyguards_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_normal3",
		idle = 0,
		prior = 6, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_bodyguards_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_alarm3",
		idle = 0,
		prior = 6, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_bodyguards_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_bodyguard_alarm3",
		idle = 0,
		prior = 6, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_bodyguards_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_veteran"
		            end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 5 - —»ƒﬂŸ»≈ ¬  ≈Ãœ≈
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_kamp1_normal1",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_alarm1",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_alarm1",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_normal2",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_alarm2",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_alarm2",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_normal3",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_alarm3",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp1_alarm3",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_building_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp2_normal1",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp2_alarm1",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp2_alarm1",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp2_normal2",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp2_alarm2",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp2_alarm2",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp3_normal1",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp3_alarm1",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp3_alarm1",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp3_normal2",
		idle = 0,
		prior = 5, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp3_alarm2",
		idle = 0,
		prior = 5, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_kamp3_alarm2",
		idle = 0,
		prior = 5, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 4 - —œﬂŸ»≈ ¡¿Õƒ»“€
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_sleeper_normal1",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm1",
		idle = 0,
		prior = 4, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm1",
		idle = 0,
		prior = 4, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_normal2",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm2",
		idle = 0,
		prior = 4, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm2",
		idle = 0,
		prior = 4, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_normal3",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm3",
		idle = 0,
		prior = 4, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm3",
		idle = 0,
		prior = 4, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_normal4",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm4",
		idle = 0,
		prior = 4, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sleeper_alarm4",
		idle = 0,
		prior = 4, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 3 - ¡¿Õƒ»“€ Õ¿ ¬Œ–Œ“¿’
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_guard_normal1",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_side_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_guard_alarm1",
		idle = 0,
		prior = 3, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_side_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_guard_alarm1",
		idle = 0,
		prior = 3, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_side_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_guard_normal2",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_guard_alarm2",
		idle = 0,
		prior = 3, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_guard_alarm2",
		idle = 0,
		prior = 3, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 2 - œ¿“–”À‹Õ€≈ Õ¿ “≈––»“Œ–»»
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_patrol_normal1",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_side_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm1",
		idle = 0,
		prior = 2, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_side_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm1",
		idle = 0,
		prior = 2, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_main_side_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_normal2",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm2",
		idle = 0,
		prior = 2, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm2",
		idle = 0,
		prior = 2, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_normal3",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm3",
		idle = 0,
		prior = 2, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm3",
		idle = 0,
		prior = 2, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_normal4",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm4",
		idle = 0,
		prior = 2, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_patrol_alarm4",
		idle = 0,
		prior = 2, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 1 - —Õ¿…œ≈–€ Õ¿ ¬€ÿ ¿’
	-----------------------------------------------------------------------
	t = { section = "logic@val_lager_bandits_sniper_normal1",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sniper_alarm1",
		idle = 0,
		prior = 1, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sniper_alarm1",
		idle = 0,
		prior = 1, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_nedostroyka_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sniper_normal2",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sniper_alarm2",
		idle = 0,
		prior = 1, state = { state_alarm },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)

	t = { section = "logic@val_lager_bandits_sniper_alarm2",
		idle = 0,
		prior = 1, state = { state_alarm_actor_inside },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_lager_bandits_restrictor",
		predicate = function(obj) 
		            	return obj:profile_name() == "bandit_general"
		            end
	}
	table.insert(sj, t)
end

function mb_predicate(obj)
    local pname = obj:profile_name()
	return pname == "monolit_regular" or pname == "soldier_regular" or pname == "soldier_specnaz"
end

function load_job_monolith_base(sj, gname, type, squad, groups)
	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 4 - œ¿“–”À» Õ¿ “≈––»“Œ–»»
	-----------------------------------------------------------------------
	t = { section = "logic@val_monolith_base_patrol_normal1",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_patrol_normal2",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)
	
	t = { section = "logic@val_monolith_base_patrol_normal3",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_patrol_normal4",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_patrol_normal5",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_patrol_normal6",
		idle = 0,
		prior = 4, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 1 - œ≈–¬€…  ≈Ãœ
	-----------------------------------------------------------------------
	t = { section = "logic@val_monolith_base_kamp1_normal1",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp1_normal2",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp1_normal3",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp1_normal4",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 1 - ¬“Œ–Œ…  ≈Ãœ
	-----------------------------------------------------------------------
	t = { section = "logic@val_monolith_base_kamp2_normal1",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp2_normal2",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp2_normal3",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp2_normal4",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 1 - “–≈“»…  ≈Ãœ
	-----------------------------------------------------------------------
	t = { section = "logic@val_monolith_base_kamp3_normal1",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp3_normal2",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp3_normal3",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp3_normal4",
		idle = 0,
		prior = 1, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 3 - ◊≈“¬≈–“€…  ≈Ãœ
	-----------------------------------------------------------------------
	t = { section = "logic@val_monolith_base_kamp4_normal1",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp4_normal2",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp4_normal3",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp4_normal4",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp4_normal5",
		idle = 0,
		prior = 3, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	-----------------------------------------------------------------------
	-- œ–»Œ–»“≈“ 2 - œﬂ“€…  ≈Ãœ
	-----------------------------------------------------------------------
	t = { section = "logic@val_monolith_base_kamp5_normal1",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp5_normal2",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj) 
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp5_normal3",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj)
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)

	t = { section = "logic@val_monolith_base_kamp5_normal4",
		idle = 0,
		prior = 2, state = { state_normal },
		squad = squad, group = groups[1],
		in_rest = "", out_rest = "val_monolith_base_main_building_restrictor",
		predicate = mb_predicate
		            --function(obj)
		            --	return obj:profile_name() == "monolit_regular"
		            --end
	}
	table.insert(sj, t)
end

function load_job_dogs_nest1(sj, gname, type, squad, groups)
	t = { section = "logic@val_dogs_nest1", 
		idle = 0,
		prior = 5, state = {0}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_dogs_nest1_small_restr"
	}
	table.insert(sj, t)

	t = { section = "logic@val_dogs_nest1", 
		idle = 0,
		prior = 5, state = {1}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_dogs_nest1_big_restr"
	}
    table.insert(sj, t)
end

function load_job_dogs_nest2(sj, gname, type, squad, groups)
	t = { section = "logic@val_dogs_nest2", 
		idle = 0,
		prior = 5, state = {0}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_dogs_nest2_small_restr"
	}
	table.insert(sj, t)

	t = { section = "logic@val_dogs_nest2", 
		idle = 0,
		prior = 5, state = {1}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_dogs_nest1_big_restr"
	}
    table.insert(sj, t)
end

function load_job_fleshes_nest1(sj, gname, type, squad, groups)
	t = { section = "logic@val_fleshes_nest1", 
		idle = 0,
		prior = 5, state = {0}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_fleshes_nest1_small_restr"
	}
	table.insert(sj, t)

	t = { section = "logic@val_fleshes_nest1", 
		idle = 0,
		prior = 5, state = {1}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_fleshes_nest1_big_restr"
	}
    table.insert(sj, t)
end

function load_job_fleshes_nest2(sj, gname, type, squad, groups)
	t = { section = "logic@val_fleshes_nest2", 
		idle = 0,
		prior = 5, state = {0}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_fleshes_nest2_small_restr"
	}
	table.insert(sj, t)

	t = { section = "logic@val_fleshes_nest2", 
		idle = 0,
		prior = 5, state = {1}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_fleshes_nest1_big_restr"
	}
    table.insert(sj, t)
end

function load_job_boars_nest1(sj, gname, type, squad, groups)
	t = { section = "logic@val_boars_nest1", 
		idle = 0,
		prior = 5, state = {0}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_boars_nest1_small_restr"
	}
	table.insert(sj, t)

	t = { section = "logic@val_boars_nest1", 
		idle = 0,
		prior = 5, state = {1}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_boars_nest1_big_restr"
	}
    table.insert(sj, t)
end

function load_job_boars_nest2(sj, gname, type, squad, groups)
	t = { section = "logic@val_boars_nest2", 
		idle = 0,
		prior = 5, state = {0}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_boars_nest2_small_restr"
	}
	table.insert(sj, t)

	t = { section = "logic@val_boars_nest2", 
		idle = 0,
		prior = 5, state = {1}, squad = squad, group = groups[0],
		in_rest = "", out_rest = "val_boars_nest1_big_restr"
	}
    table.insert(sj, t)
end

function load_states(gname, type)
	if type == "val_lager_bandits" then
		return check_state_lager_bandits(gulag)
	elseif type == "val_monolith_base" then
		return check_state_monolith_base(gulag)
	elseif type == "val_dogs_nest1" then  
	    return check_state_dogs_nest1(gulag)
	elseif type == "val_dogs_nest2" then  
	    return check_state_dogs_nest2(gulag)
	elseif type == "val_fleshes_nest1" then  
	    return check_state_fleshes_nest1(gulag)
	elseif type == "val_fleshes_nest2" then  
	    return check_state_fleshes_nest2(gulag)
	elseif type == "val_boars_nest1" then  
	    return check_state_boars_nest1(gulag)
	elseif type == "val_boars_nest2" then  
	    return check_state_boars_nest2(gulag)
	end

	return nil
end

function check_state_lager_bandits(gulag)
	return function(gulag)
		for k,v in gulag.Object do
			local enemy = v:best_enemy()
			if enemy ~= nil then
				enemy_type = get_clsid(enemy)
				if enemy_type == clsid.actor and
				   utils.npc_in_zone(db.actor, db.zone_by_name["val_lager_bandits_restrictor"]) then
					return state_alarm_actor_inside
				end
				if enemy_type == clsid.actor or
  	   			   enemy_type == clsid.soldier or
	   			   enemy_type == clsid.script_stalker or
   				   enemy_type == clsid.trader
   				then
   					gulag.alarm_start = game.get_game_time()
   					return state_alarm
   				end
			end
		end		
		
		if gulag.alarm_start == nil or game.get_game_time():diffSec(gulag.alarm_start) > 900 then
			return state_normal -- Ó·˚˜ÌÓÂ ÒÓÒÚÓˇÌËÂ
		end
		return state_alarm -- ÚÂ‚Ó„‡
	end
end

function check_state_monolith_base(gulag)
	return function(gulag)
		return state_normal
	end
end

function check_state_dogs_nest1(gulag)
	return function(gulag)
		local t = db.zone_by_name["val_dogs_nest1_restr_big"] -- ËÏˇ ·ÓÎ¸¯Ó„Ó ÂÒÚ.
		if t and db.actor then
			if t:inside(db.actor:position()) then
				return 1
			else
				return 0
			end
		else
			return gulag.state
		end
	end
end

function check_state_dogs_nest2(gulag)
	return function(gulag)
		local t = db.zone_by_name["val_dogs_nest2_restr_big"] -- ËÏˇ ·ÓÎ¸¯Ó„Ó ÂÒÚ.
		if t and db.actor then
			if t:inside(db.actor:position()) then
				return 1
			else
				return 0
			end
		else
			return gulag.state
		end
	end
end

function check_state_fleshes_nest1(gulag)
	return function(gulag)
		local t = db.zone_by_name["val_fleshes_nest1_restr_big"] -- ËÏˇ ·ÓÎ¸¯Ó„Ó ÂÒÚ.
		if t and db.actor then
			if t:inside(db.actor:position()) then
				return 1
			else
				return 0
			end
		else
			return gulag.state
		end
	end
end

function check_state_fleshes_nest2(gulag)
	return function(gulag)
		local t = db.zone_by_name["val_fleshes_nest2_restr_big"] -- ËÏˇ ·ÓÎ¸¯Ó„Ó ÂÒÚ.
		if t and db.actor then
			if t:inside(db.actor:position()) then
				return 1
			else
				return 0
			end
		else
			return gulag.state
		end
	end
end

function check_state_boars_nest1(gulag)
	return function(gulag)
		local t = db.zone_by_name["val_boars_nest1_restr_big"] -- ËÏˇ ·ÓÎ¸¯Ó„Ó ÂÒÚ.
		if t and db.actor then
			if t:inside(db.actor:position()) then
				return 1
			else
				return 0
			end
		else
			return gulag.state
		end
	end
end

function check_state_boars_nest2(gulag)
	return function(gulag)
		local t = db.zone_by_name["val_boars_nest2_restr_big"] -- ËÏˇ ·ÓÎ¸¯Ó„Ó ÂÒÚ.
		if t and db.actor then
			if t:inside(db.actor:position()) then
				return 1
			else
				return 0
			end
		else
			return gulag.state
		end
	end
end

function checkStalker(npc_community, gulag_type)
	if gulag_type == "val_lager_bandits" then
		return npc_community == "bandit"
	end
	
	if gulag_type == "val_monolith_base" then
	    return npc_community == "monolith"
	end    

	return false
end

function checkMonster(npc_community, gulag_type)
    if gulag_type == "val_dogs_nest1" then
	    return npc_community == "dog"
    end

    if gulag_type == "val_dogs_nest2" then
	    return npc_community == "dog"
    end

    if gulag_type == "val_fleshes_nest1" then
	    return npc_community == "flesh"
    end

    if gulag_type == "val_fleshes_nest2" then
	    return npc_community == "flesh"
    end

    if gulag_type == "val_boars_nest1" then
	    return npc_community == "boar"
    end

    if gulag_type == "val_boars_nest2" then
	    return npc_community == "boar"
    end

    return false
end
