//---------------------------------------------------------------------------------------
* Редактор:
- перевод на BCB;
- ускорение работы;
- dynamic degradation;
--автогенерение ландшафта по карте высот;
--возможность ложить несколько текстур (смесители по условию);
- авторастановка групп выбранных объектов;
--редактирование ландшафта(изменение геометрии, текстурения);
- генерация прогрессивных mesh'ей для ландшафта;
- установка источников света(range, brightness, sharpness, color)+spotlight;
- переработка расчета lightmap'ов(генерация разверток);
- задание игрового материала;
- Portal clip planes:
	- автоматическое генерирование;
	- редактирование их свойств(позиция, ориентация, материал(только для звука))
- Collision Detection:
	- vertex adjacement information (обтягивание объектов);
	- tri - env-material info.
- Расстановка respawn points.

* Plugins:
- импорт/экспорт внутреннего формата текстур для Photoshop;
- X-Ray material для 3DSMax;
- переработка экспорта скелетной анимации;
- Collision Detection:
	- vertex adjacement information (обтягивание объектов)
	- tri - env-material info
- OGF-export shadow forms:
	- convex hulls;
	- разбивка на несколько форм;

* Engine:
-?емуляция lightmap;
- 4-х проходное текстурение;
- Collision Detection:
	- collision responce;
	- optimize RayPick;
	- deep mathematic optimization;
	- vertex adjacement information (обтягивание объектов);
	- tri - env-material info.
- Image warping:
	- в редакторе - построение картинок для warping'а
	- в engine - "geometry to image" warping
- Culling:
	- add OBB & AABB culling
	- advanced intersection test
- Portal clip planes:
	- учет материалов при отсечении/затухании звука;
	- учитывать clip plane для отсечения;
- Network support:
	- корректная синхронизация;
	- предсказания.
- Скрипты (доводка);
- Компьютерный игрок:
	- AI - врага;
	- AI - сопровождения.
- Эффекты (доводка):
	- небо;
	- выстрелы;
	- оружие(видимость на экране, перезарядка и т.д.);
	- вода;
- Скелетная анимация (оптимизация);
*** ВЫЛАВЛИВАНИЕ ТАРАКАНОВ :) ***

1. Сохранить(редактор) и загрузить(engine) параметры солнц в LTX
2. Не забыть сохранить все тектуры AddUniqueTexName( material->m_Texture->name() );
3.
    + Список всех обектов на сцене + работа с ними;
    - Object Preview
    + Add + Ctrl = Properties | Select Object ....
    + Add + Shift = Серия объектов ....
    + Timer + flat
    + Info + Log
    + убрать полностью весь старый ландшафт
    + SetLights
    + Add, Edit, Delete -> Library Objects
    + Popup menu for any objects
    -- Удобное управление (Fly pivot)
    + Clip planes
    +- Sky&Suns&Clouds
    + ShortCut
    + Новый ландшафт
    + центрировать камеру по объекту и по сцене
    + IVector->Fvector
    + Collision (Select Faces & ...)
    + Texture List
    + Texturizer (if lib_reference {ask then edit} else edit)
    + Чувствительность мыши
    +- Пост загрузка мешей и текстур
    + Double Click -> properties
    + Редактор элементов
        + опции объекта (имя,класс,динамика/статика)
        + добавление/удаление/свойства мешей
            + вставить вместо ListBox -> Tree
        + информация (матрица трансформации, BB)
            + пересчитать в локальные координаты по всем матрицам
        + текстуры в мешах (убрать дублирование)
        + свойства меша
            + имя, инф.
            + слои
                + добавление/удаление/перетасовывание
                + свойства

//------------------------------------------------------------------------------
- У источников звуков добавить громкость и range
++Ray Pick!!!!
- Multi texturing - сделать коректную опцию и проверку на степень перекрытия
- Перевести на команды и вывести назначение ShortCut
    - проверить
    + проверить ResetActionToSelect
- Build OGF, VCF
    - проверить сохранение VCF
        - reference & !reference
    + проверить сохранение OGF
        + reference & !reference
    + исправить название OGF & VCF в LTX
    + проверить сохранение LTX (OGF & VCF)
    + проверить IsVCFCreated
+-Подготовить SceneProperties для создания dll
- Не грузить в память текстуры
- Расчет Convex Polyhedra
- Object Scaling
- Change geometry
	- move point
	- collapse points
	- add new point
	- объеденить фейсы
	- создать новый фейс
- Texturizing
	- UV unwrap
	- Mapping
		- box
		- sphere
		+ planar
        - face
- Проверить build ИИ карты


+ Отрисовать оси координат в левом углу
+ не грузить текстуры
- не грузить меши
+ перенести в проект колижен и вектора
+ box pick заменить на frustum pick
- вывести позицию курсора
- подгружать разные библиотеки (т.е. сохранять не только ссылку на объект, но и на либ)
- динам. сетка
+ возможны проблемы с партиклами (изменил команды Invert, Select...,  исходные ф-ции остались)
-?курсор использовать только свой
- убрать все что нужно вводить из fra... (shortcut conflict)
- проверить на глюки ChangeAction's
+ партиклы - BoxPick - убрать
- UNDO/REDO
	- выборочное UNDO/REDO (после выбора опций UndoClear)
	+ куда-то пропадает последнее действие
    + проверить везде корректность работы
- текстурирование:
	- добавить/удалить все фейсы
    - добавить/удалить выделенные фейсы в каком-либо слое
+ проверить зачем OnObjectsUpdate() - может пригодится
+ кнопку Unhide...
+ D3DWindow чтобы имел фокус ввода
- Enter -> object properties
+ Флат/Гуро - заливка
- экспорт нормалей из МАКСа
- проверить ShiftLevel при экспорте
+ проверить кулинг объектов по m_Center
+ в FrustumPick оценить сначала сферу....
+ проверить IsRender
+ добавить SBDrawWireNoZ как в LightWave
- сделать дополнительную камеру типа "трекбол"
- scale in meshes
+ определить связанность фейсов
	+ создать m_FTies
    + Mesh->Append
    + в плагине ругаться на более чем 2 связи по эджу
+ разобраться с текстурами для билда (вроде они не нужны)
- звуки в редакторе
- в multiple lights менять все по возможности
- renderwidth и viewwidth!!!
- EditLib -> check Reload
+ в frmMain вынести "общие" комманды
- SpherePick сделан только в Objects
- порталы
	+ новый класс
    + список порталов
    + список фейсов в портале
    + рисование разным цветом
    + просчет "дырок"
    + визуальная часть
    + проверка на дублирование полигонов в секторе

    + box pick
    + RTL pick
    + bbox render
    - cos угла для ties
    + need update CHull + кнопка если need (+,- face)
    + UndoSave???
    + bDrawPortal, bDrawCHull
    + update portals if change objects
    - Capture Inside Objects
    	+ добавить center и range в CHull
    	+ тест сферы со всеми объектами не динамическими!
        + тест всех полигонов попавших объектов
        + кнопку для просчета сего
        - проверить корректность работы (EPS_L)
    + Simplify portal
    + когда есть открытые эджи типа '0,1' '1,2' '0,3', а последнего нет - что делать
- occluders
	+ multi-points
    + build
    - include/excluder
    + save
    -+убрать за ненадобностью Density
    - к какому сектору принадлежит ???????
	- проверить экспорт оклюдеров
- размер партиклов - это что (m_Range)
- перенести BoxPick параметры на верхнюю панель
+ ObjectList проверить инициализацию (bDraw)
- посмотреть порядок выборки из секторов (порталов)
+ Light
	+ мерцание
    + принадлежность секторам
    + параметры
    -!сохранить procedural! (Save/Load)
    - random blink
+ перенести из Scene m_State
	+ SetState
    + EndState
    + m_EditorMode - убрать
+ Undo пересмотреть
+ Не создавать текстуры которые уже имеются
- проверить m_Tools->Update
+ внести новые параметры билда

-+GenerateCFModel
-+Convex Hull погрешности
+ после вращения объекта не работает RayPick
+ Ctrl-O срабатывает O
+ ручной ввод координат/поворот
+ рандом вращение при установке (по ограничению) + reset на установки параметров
+ импорт из LWO

+ GetTiesFaces без рекурсии
+ Object properties
+ LTX
+ Export VCF, OGF
- 50% collision density with alpha
+ Level Options
+ Загрузка/сохранение уровня через мемори стрим
+ lighting? (Ambient++, lsources--)
+ D3DRS_ALPHAFUNC = D3DCMP_GREATER
+ render filter
+ reload textures
+ имена текстур (расширения) загрузка?
+ проверить SetMaterial
+ UpdateFog
+ Real Time
+ не показывать $-shaders
+ загрузка текстур!!!
+ raypick glow
+ render секторных фейсов - shader
+ render порталов - shader
+ selection rect - render
+!для билда брать тектуры и из шейдера!
+ сохранить в цвет в 255
+ просчет нормалей
+ при загрузке ввести контроль версий (все что с этим связано - удаление секторов, порталов...)
+ shader глючат при new и preview(on) - нужно перегрузить полностью!!!
+ GetTiesFaces 
+ убирать расширение у текстуры!
+ обновить плагин для макса
+ обновить плагин для LW
+!проверить запись OGF & VCF
+ 2-sided face
+ проверить почему долго выходит из режима редактирования библиотеки (debug in LZhuf)
+ при редактировании библиотеки объектов разрешить изменение параметров объекта (Scale,Rotate...)
+ shader - копирование параметров
+ glow текстуры + шейдер
+ generate normals 60 grad
+ reload textures
+ отрисовать когда глоу не виден за стеной
+ нарисовать бокс как в максе
+ стартовый цвет фога начать с 0xff------
+ unselected portal draw darkness
--light - копирование параметров
5.06.2001
--заменить иконки объектов
--при копировании задать нормальное имя
+ detail patches
+ контроль версий
+ рендер не по треугольнику а блоками
+ Lock objects (ничего нельзя с объектом сделать)
+ EditLibrary - delete применить и к фолдеру
+ snap с накоплением по углу
+!occluder
+ убрать лишние стэйты
+ обновить RAPID
	--перед тестом RayPick проверить RaySphere

7.06.20001
+ установить shader для бокса в глоу
+ Light Color при properties
+ удаление Glow без параметров
+ вращение Sun при включенном Angle Snap
+ Shader names in realtime render
+ scale object ray pick -  не правильно считается расстояние
+ проверить загрузку/сохранение секторов
+ экспорт 2-sided
+ при несовпадении версий убрать сектора и порталы прилинкованые к ним
+ опции меша (Collision Model)
+ импорт объектов из отдельной папки
+ обновить Vector
--новый CHull в Samples
+ создавать 2-сектора и портал по умолчанию
--выкл. туман при редактировании библиотеки
+-!при разных версиях объектов удалять не только итемы а и весь сектор
+ сделать пипетку для материалов и для мешей
+ убрать двойной трансформ при нюмерик сете
+ сохранить/восстановить предыдущее положение камеры перед Едит Шейдерс
+ event
	+ RTL_Pick
    + FrustumPick
    + render (selected, shader)
+ после копировании селект на копии

25.06.2001
+ Light не правильно после загрузки (усиление яркости) (не более 8 источников)
+ очищать обект-лист при выходе
+ Zoom Extents
+ туман - визуальное редактирование
+ небо - визуальное редактирование
+ нюмерик инпут на все объекты
 	- все перемещения перенести в SceneObject
+ слияние библиотек
	+ шейдеров
+ контроль версий thumbnail для объектов
+ проверить:
	+ unload before build
    + Gen Normals
	- glow pick?????????
    + import LWO
+ BB for objects
+ ObjectLib:
	+ object name
	+ Name Register
--выгрузить библиотеку после resolve
+ new -> vector
+ FileStream
+ проверить Build OGF
+ в билде определение секторов для 2-sided
+ проверить корректность CheckVersion
+ index out of range (faces??) (max plugin)
+ OGF не создавать
+ 200M файл не создался (один раз создался второй нет)
+ resolve reference
--сектора ссылаются на библиотечные объекты 
+ numeric scale, position, rotate

16.07.2001
+ grouping
	+ размещение в классе
    + установка на уровень
    + удаление с уровня
    + move, scale, rotate 
    + cut, paste, undo, redo
    + добавить группу в library
+ test save m_Visible, name.... (в SceneObject)
+ проверить
	+ group select
    + group update box
+ ObjectList сбрасывает выделение
+ в ЕдитЛиб вставить 1 источник света
+ в ЕдитШейдер вставить 1 источник света
+ не weld'ить динамические модели
+ reload object with some name in library
+ при удалении из библиотеки маркировать .~object
+ проверить референс и не референс в Object Propeties для Object Animation
	+ кнопки Enabled
    + multiselection
    + append - расширение FileSystem.cpp
+ reset animation before building (BuilderRemote use mTransform)
	+ кнопку
+ сделать галочку - не освещать в редакторе
+ проверить экспортный объект на наличие и правильность нормалей (insert(m_PNormals...) )
+ выбрать мапу при билде меша
+ сбросить анимацию перед экспортом OGF, VCF
+ трансформировать нормали при билде OGF
+ preview текстур не правильно скейлит 512x256??
+ glow:
	--по умолчанию выбирать шейдер glow
    + multiple selected:
    	+ долго назначаются текстуры, ...
        + не могу найти multiple selected текстуру при загрузке сцены
+ в редактор шейдеров ввести выбор объекта для отображения
+ переименовать кости (убрать пробел)
+ проверить motion's при загрузке


15.08.2001
+ клонирование объектов + motions + bones
+ проверить
	+ конвекс хулы 3D и 2D 
	+ MgcOrthogonalPlaneFit
--дописать CleanLibrary
--рассчитать вертексное освещение
+ заполнить Environment....
	+ ltx
    + visualization
    + проверить все

28.08.2001
+ object props in scene surface error
+ Build LTX отдельно
+ dll для xrLC
+ учесть 3-проходом Strict Back To Front
+ переделать просчет порталов
	+ исп. метод ячеек
    --переделать просчет ориентации портала
+ при перегрузке уровня (Ctrl-Z... Load) проапдейтить фреймы
+ Zoom center в библиотеках
+ после загрузки нормализовать матрицу камеры и вообще иногда ее нормализовывать, либо использовать углы Эйлера!!!!!
+ проверить Hide
+ пересмотреть ObjectList
+ проверить make convex hull в секторе
+ библиотека текстур
	+ проверить при загрузке и рефреше
+ при воспроизводстве тхмов у объектов проверить версию если не совпадает предложить сделать новую и если нет тхма тоже написать
+ Activate Object&PS frame
+ Cancel pri Clear
+ ввести вручную число...
+ OnLWChange
+ убрать хвосты при блуре
+ сохранить emitter
+ chose form texture???
+ сохранить DDS
--resistance в партиклах
+ сделать несколько разных эмитеров
	- emitter from volume
+ in ChoseForm create key fast search
+ DifTex проверить
+ FrameDPatch.... тоже
+ сохранить текстуры при экспорте OGFа
+ поменять в объекте текстуру также как и шейдер
+ перевести выбор объекта на стандартное окно ChooseForm
+ Top Bar не читает xr.ini
+ SnapToObjects
    + тестировать на наличие объектов в SnapObjectList
    + подсветить SnapObjectList в режиме Object->Add (прозрачной пеленой)
    + режим выбора
+?проверить fill double side в рендере меша и Билдере
+ Traffic
	+ point
    + link
    + autolink
+ Log resizeable
+ ошибка в компоненте multi_edit: Diagonal
+ шейдеры из LW
	+ доделать плагин LW-shader
    + проверить в редакторе
+ в девайсе CDX вставить
+ проверить какие источники света стоят в библиотеках
+ в библиотеке поддерживать пиканье

+ texture
	+ загружать текстуры для рендера из директории render
	+ перегружать текстуру при изменении
	+ refresh - не перегружается 1 текстура
    + добавить mip level callback
    + при компиляции уровня переписывать из каталога рендер если нет файла создать
- shaders: current view
+ текстура без сжатия (исходная) + флажок в (implicit lighted)
+ взять xr_ini
+ FrameObject: metka
+ Right Btn - back in fly mode
+ при PickGround для Fly Camera без ObjectSnap и всего остального

----------------------------------------------------------------------------------------------------
05.12.2001
----------------------------------------------------------------------------------------------------
TODO:
-----
Render:
	+ отсечение по мешам при рендере
    - Normal у Direct Light (рисовать)
	- vid_restart
	+ рендер грида при Sky
	- тестировать возможность использования шейдера (скорее при рендере)
	- безразмерный грид
	- проверить наличие uv map'ы
	- рендер скиненого объекта
    - DirectX 8.1
Build:
	- сохранять прогрессивные OGF
	- Export статических PS в игру
	- проблема со сдвигом сектора при компиляции уровня
Edit:
	- двигать точки
    - показывать объект перед установкой + рандом
	- group functionality (flip,mirror,scale)
	--добавить пипетку при селекте по референсу для объектов
	- Detail Objects
		- установка размера DO Clustera проверить если уже создан то изменить нельзя
	    - AppendCluster:
    		- проверка на присутствие
        	- заполнить высоты (min,max,квантизировать)
	        - мазать мышкой
    	- отрендерить кластеры
	- единые исходники, интегроваться с SS
	- предложить создать при импорте объекта его THM
	- ShortCut Editor
	- добавить к шейдерам фолдеры
	- назначение текстур и шейдеров
	- не терять курсор при перемещении
	- SMotions - parts (tors,legs 4-max)
	- слияние библиотек объектов
	- подробно просмотреть что происходит по UpdateScene!!!
	- при изменении кол-ва объектов (при добавлении) проверить сектора
	- заполнить template'ы
	+ refresh только для новых текстур
	+ по другому задавать clip planes
        + установить плоскость
        + задать и расставить точки
        + возможность менять:
            + ориентацию, положение, скейл
            + количество, положение точек
        + builder
	+ ref select (добавить все выделенные объекты)
	+ refresh texture работает по разному в библиотеке и на уровне
	+ RTL Pick при 50%
    + проверить группы (поворот особенно)
    + Object List
	+ добавить возможность сортировки при выборе нескольких элементов в окне выбора элементов(текстур в частности)
IO:
    - !!!BuilderCF.cpp при сохранении VCF для динамических объектов смотреть шейдеры на предмет COLLISION и в будущем HIDDEN
	- назначать UV-мапу по имени
UI:
    - arcball камеру
	- ввести систему хинтов
    	+ имя
        + тип
        - доп. сведения:
        	+ light - тип lm, dyn, anim
            - object
        - pause
    
CHECK:
------
- исправить экспорт в LW плугине
-?сохранение в shader editor'e
-?32bit no-mip-maps не создало текстуру
- ObjectList IsUpdating
-!проверить сохранение текстур при компиляции
	- implicit lighted
    - dds make
- при плохом импорте не удаляются текстуры
- медленный Load одинаковых объектов
- Проверить коррекстный вызов OnDestroy в Секторе (перенес OnDestroy в SceneObject)
- FindBoneByName и GetBoneIndexByWMap проверить "CEditObject* _O = m_LibRef?m_LibRef:this;"
- посмотреть вс LWstyle компоненты


----------------------------------------------------------------------------------------------------
- взять новый vector
- взять новый FS
- FVF

-------
Engine:
- физика движения настроить с Кармой
Karma:
- летучие мыши EventBox + random anim
- возможность менять уровень сложности перед загрузкой уровня
